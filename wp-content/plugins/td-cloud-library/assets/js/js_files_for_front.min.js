/*
 Select2 4.1.0-rc.0 | https://github.com/select2/select2/blob/master/LICENSE.md */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var c,b=[];!(c=a.next()).done;)b.push(c.value);return b};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(c,b){return void 0===b&&(b="undefined"!=typeof window?require("jquery"):require("jquery")(c)),a(b),b}:a(jQuery)}(function(a){function c(a,b){var d,c,r,h,e,f,g=b&&b.split("/"),A=w.map,l=A&&A["*"]||{};if(a){b=(a=a.split("/")).length-1;w.nodeIdCompat&&E.test(a[b])&&(a[b]=a[b].replace(E,""));"."===a[0].charAt(0)&&g&&(a=g.slice(0,g.length-1).concat(a));for(b=0;b<a.length;b++)"."===
(d=a[b])?(a.splice(b,1),--b):".."===d&&(0===b||1===b&&".."===a[2]||".."===a[b-1]||0<b&&(a.splice(b-1,2),b-=2));a=a.join("/")}if((g||l)&&A){for(b=(d=a.split("/")).length;0<b;--b){if(c=d.slice(0,b).join("/"),g)for(f=g.length;0<f;--f)if(r=A[g.slice(0,f).join("/")],r=r&&r[c]){var k=r;var G=b;break}if(k)break;!h&&l&&l[c]&&(h=l[c],e=b)}!k&&h&&(k=h,G=e);k&&(d.splice(0,G,k),a=d.join("/"))}return a}function b(a,b){return function(){var d=F.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),
n.apply(k,d.concat([a,b]))}}function d(a){var b;if(y.call(x,a)&&(b=x[a],delete x[a],D[a]=!0,m.apply(k,b)),!y.call(u,a)&&!y.call(D,a))throw Error("No "+a);return u[a]}function e(a){var b,d=a?a.indexOf("!"):-1;return-1<d&&(b=a.substring(0,d),a=a.substring(d+1,a.length)),[b,a]}function g(a){return a?e(a):[]}var f,l,k,m,n,p,t,u,x,w,D,y,F,E;var z=(a&&a.fn&&a.fn.select2&&a.fn.select2.amd&&(q=a.fn.select2.amd),q&&q.requirejs||(q?l=q:q={},u={},x={},w={},D={},y=Object.prototype.hasOwnProperty,F=[].slice,E=
/\.js$/,p=function(a,b){var f,v,r=e(a),h=r[0];b=b[1];return a=r[1],h&&(f=d(h=c(h,b))),h?a=f&&f.normalize?f.normalize(a,(v=b,function(a){return c(a,v)})):c(a,b):(h=(r=e(a=c(a,b)))[0],a=r[1],h&&(f=d(h))),{f:h?h+"!"+a:a,n:a,pr:h,p:f}},t={require:function(a){return b(a)},exports:function(a){var b=u[a];return void 0!==b?b:u[a]={}},module:function(a){return{id:a,uri:"",exports:u[a],config:(b=a,function(){return w&&w.config&&w.config[b]||{}})};var b}},m=function(a,c,e,v){var r,h,C=[];var f=typeof e;var B=
g(v=v||a);if("undefined"==f||"function"==f){c=!c.length&&e.length?["require","exports","module"]:c;for(h=0;h<c.length;h+=1)if("require"===(f=(r=p(c[h],B)).f))C[h]=t.require(a);else if("exports"===f){C[h]=t.exports(a);var l=!0}else if("module"===f)var A=C[h]=t.module(a);else if(y.call(u,f)||y.call(x,f)||y.call(D,f))C[h]=d(f);else{if(!r.p)throw Error(a+" missing "+f);r.p.load(r.n,b(v,!0),function(a){return function(b){u[a]=b}}(f),{});C[h]=u[f]}f=e?e.apply(u[a],C):void 0;a&&(A&&A.exports!==k&&A.exports!==
u[a]?u[a]=A.exports:f===k&&l||(u[a]=f))}else a&&(u[a]=e)},f=l=n=function(a,b,c,e,r){if("string"==typeof a)return t[a]?t[a](b):d(p(a,g(b)).f);if(!a.splice){if((w=a).deps&&n(w.deps,w.callback),!b)return;b.splice?(a=b,b=c,c=null):a=k}return b=b||function(){},"function"==typeof c&&(c=e,e=r),e?m(k,a,b,c):setTimeout(function(){m(k,a,b,c)},4),n},n.config=function(a){return n(a)},f._defined=u,(z=function(a,b,d){if("string"!=typeof a)throw Error("See almond README: incorrect module build, no module name");
b.splice||(d=b,b=[]);y.call(u,a)||y.call(x,a)||(x[a]=[a,b,d])}).amd={jQuery:!0},q.requirejs=f,q.require=l,q.define=z),q.define("almond",function(){}),q.define("jquery",[],function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b}),q.define("select2/utils",["jquery"],function(a){function b(a){var b;a=a.prototype;var d=[];for(b in a)"function"==
typeof a[b]&&"constructor"!==b&&d.push(b);return d}function d(){this.listeners={}}var c={Extend:function(a,b){function d(){this.constructor=a}var c,h={}.hasOwnProperty;for(c in b)h.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},Decorate:function(a,d){function c(){var b=Array.prototype.unshift,c=a.prototype.constructor;0<d.prototype.constructor.length&&(b.call(arguments,a.prototype.constructor),c=d.prototype.constructor);c.apply(this,arguments)}var h=
b(d),r=b(a);d.displayName=a.displayName;c.prototype=new function(){this.constructor=c};for(var e=0;e<r.length;e++){var v=r[e];c.prototype[v]=a.prototype[v]}for(r=0;r<h.length;r++)e=h[r],c.prototype[e]=function(a){var b=function(){};a in c.prototype&&(b=c.prototype[a]);var h=d.prototype[a];return function(){return Array.prototype.unshift.call(arguments,b),h.apply(this,arguments)}}(e);return c}};d.prototype.on=function(a,b){this.listeners=this.listeners||{};a in this.listeners?this.listeners[a].push(b):
this.listeners[a]=[b]};d.prototype.trigger=function(a){var b=Array.prototype.slice,d=b.call(arguments,1);this.listeners=this.listeners||{};null==d&&(d=[]);0===d.length&&d.push({});(d[0]._type=a)in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1));"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)};d.prototype.invoke=function(a,b){for(var d=0,c=a.length;d<c;d++)a[d].apply(this,b)};c.Observable=d;c.generateChars=function(a){for(var b="",d=0;d<a;d++)b+=Math.floor(36*Math.random()).toString(36);
return b};c.bind=function(a,b){return function(){a.apply(b,arguments)}};c._convertData=function(a){for(var b in a){var d=b.split("-"),c=a;if(1!==d.length){for(var h=0;h<d.length;h++){var r=d[h];(r=r.substring(0,1).toLowerCase()+r.substring(1))in c||(c[r]={});h==d.length-1&&(c[r]=a[b]);c=c[r]}delete a[b]}}return a};c.hasScroll=function(b,d){b=a(d);var c=d.style.overflowX,h=d.style.overflowY;return(c!==h||"hidden"!==h&&"visible"!==h)&&("scroll"===c||"scroll"===h||b.innerHeight()<d.scrollHeight||b.innerWidth()<
d.scrollWidth)};c.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})};c.__cache={};var r=0;return c.GetUniqueElementId=function(a){var b=a.getAttribute("data-select2-id");return null!=b||(b=a.id?"select2-data-"+a.id:"select2-data-"+(++r).toString()+"-"+c.generateChars(4),a.setAttribute("data-select2-id",b)),b},c.StoreData=function(a,b,d){a=c.GetUniqueElementId(a);
c.__cache[a]||(c.__cache[a]={});c.__cache[a][b]=d},c.GetData=function(b,d){var h=c.GetUniqueElementId(b);return d?c.__cache[h]&&null!=c.__cache[h][d]?c.__cache[h][d]:a(b).data(d):c.__cache[h]},c.RemoveData=function(a){var b=c.GetUniqueElementId(a);null!=c.__cache[b]&&delete c.__cache[b];a.removeAttribute("data-select2-id")},c.copyNonInternalCssClasses=function(a,b){var d=(d=a.getAttribute("class").trim().split(/\s+/)).filter(function(a){return 0===a.indexOf("select2-")});b=(b=b.getAttribute("class").trim().split(/\s+/)).filter(function(a){return 0!==
a.indexOf("select2-")});b=d.concat(b);a.setAttribute("class",b.join(" "))},c}),q.define("select2/results",["jquery","./utils"],function(a,b){function d(a,b,c){this.$element=a;this.data=c;this.options=b;d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var b=a('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b},d.prototype.clear=function(){this.$results.empty()},
d.prototype.displayMessage=function(b){var d=this.options.get("escapeMarkup");this.clear();this.hideLoading();var c=a('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),e=this.options.get("translations").get(b.message);c.append(d(e(b.args)));c[0].className+=" select2-results__message";this.$results.append(c)},d.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},d.prototype.append=function(a){this.hideLoading();var b=[];if(null!=
a.results&&0!==a.results.length){a.results=this.sort(a.results);for(var d=0;d<a.results.length;d++){var c=a.results[d];c=this.option(c);b.push(c)}this.$results.append(b)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},d.prototype.position=function(a,b){b.find(".select2-results").append(a)},d.prototype.sort=function(a){return this.options.get("sorter")(a)},d.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results__option--selectable"),
b=a.filter(".select2-results__option--selected");(0<b.length?b:a).first().trigger("mouseenter");this.ensureHighlightVisible()},d.prototype.setClasses=function(){var d=this;this.data.current(function(c){var h=c.map(function(a){return a.id.toString()});d.$results.find(".select2-results__option--selectable").each(function(){var d=a(this),c=b.GetData(this,"data"),e=""+c.id;null!=c.element&&c.element.selected||null==c.element&&-1<h.indexOf(e)?(this.classList.add("select2-results__option--selected"),d.attr("aria-selected",
"true")):(this.classList.remove("select2-results__option--selected"),d.attr("aria-selected","false"))})})},d.prototype.showLoading=function(a){this.hideLoading();a={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(a)};a=this.option(a);a.className+=" loading-results";this.$results.prepend(a)},d.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},d.prototype.option=function(d){var c=document.createElement("li");c.classList.add("select2-results__option");
c.classList.add("select2-results__option--selectable");var h={role:"option"},e=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(f in(null!=d.element&&e.call(d.element,":disabled")||null==d.element&&d.disabled)&&(h["aria-disabled"]="true",c.classList.remove("select2-results__option--selectable"),c.classList.add("select2-results__option--disabled")),null==d.id&&c.classList.remove("select2-results__option--selectable"),null!=
d._resultId&&(c.id=d._resultId),d.title&&(c.title=d.title),d.children&&(h.role="group",h["aria-label"]=d.text,c.classList.remove("select2-results__option--selectable"),c.classList.add("select2-results__option--group")),h)c.setAttribute(f,h[f]);if(d.children){var f=a(c);h=document.createElement("strong");h.className="select2-results__group";this.template(d,h);var g=[];for(e=0;e<d.children.length;e++){var v=d.children[e];v=this.option(v);g.push(v)}e=a("<ul></ul>",{class:"select2-results__options select2-results__options--nested",
role:"none"});e.append(g);f.append(h);f.append(e)}else this.template(d,c);return b.StoreData(c,"data",d),c},d.prototype.bind=function(d,c){var h=this;this.$results.attr("id",d.id+"-results");d.on("results:all",function(a){h.clear();h.append(a.data);d.isOpen()&&(h.setClasses(),h.highlightFirstItem())});d.on("results:append",function(a){h.append(a.data);d.isOpen()&&h.setClasses()});d.on("query",function(a){h.hideMessages();h.showLoading(a)});d.on("select",function(){d.isOpen()&&(h.setClasses(),h.options.get("scrollAfterSelect")&&
h.highlightFirstItem())});d.on("unselect",function(){d.isOpen()&&(h.setClasses(),h.options.get("scrollAfterSelect")&&h.highlightFirstItem())});d.on("open",function(){h.$results.attr("aria-expanded","true");h.$results.attr("aria-hidden","false");h.setClasses();h.ensureHighlightVisible()});d.on("close",function(){h.$results.attr("aria-expanded","false");h.$results.attr("aria-hidden","true");h.$results.removeAttr("aria-activedescendant")});d.on("results:toggle",function(){var a=h.getHighlightedResults();
0!==a.length&&a.trigger("mouseup")});d.on("results:select",function(){var a,d=h.getHighlightedResults();0!==d.length&&(a=b.GetData(d[0],"data"),d.hasClass("select2-results__option--selected")?h.trigger("close",{}):h.trigger("select",{data:a}))});d.on("results:previous",function(){var a,b=h.getHighlightedResults(),d=h.$results.find(".select2-results__option--selectable"),c=d.index(b);0>=c||(a=c-1,0===b.length&&(a=0),(c=d.eq(a)).trigger("mouseenter"),b=h.$results.offset().top,d=c.offset().top,c=h.$results.scrollTop()+
(d-b),0===a?h.$results.scrollTop(0):0>d-b&&h.$results.scrollTop(c))});d.on("results:next",function(){var a,b=h.getHighlightedResults(),d=h.$results.find(".select2-results__option--selectable"),c=d.index(b)+1;c>=d.length||((a=d.eq(c)).trigger("mouseenter"),b=h.$results.offset().top+h.$results.outerHeight(!1),d=a.offset().top+a.outerHeight(!1),a=h.$results.scrollTop()+d-b,0===c?h.$results.scrollTop(0):b<d&&h.$results.scrollTop(a))});d.on("results:focus",function(a){a.element[0].classList.add("select2-results__option--highlighted");
a.element[0].setAttribute("aria-selected","true")});d.on("results:message",function(a){h.displayMessage(a)});a.fn.mousewheel&&this.$results.on("mousewheel",function(a){var b=h.$results.scrollTop(),d=h.$results.get(0).scrollHeight-b+a.deltaY;b=0<a.deltaY&&0>=b-a.deltaY;d=0>a.deltaY&&d<=h.$results.height();b?(h.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):d&&(h.$results.scrollTop(h.$results.get(0).scrollHeight-h.$results.height()),a.preventDefault(),a.stopPropagation())});this.$results.on("mouseup",
".select2-results__option--selectable",function(d){var c=a(this),e=b.GetData(this,"data");c.hasClass("select2-results__option--selected")?h.options.get("multiple")?h.trigger("unselect",{originalEvent:d,data:e}):h.trigger("close",{}):h.trigger("select",{originalEvent:d,data:e})});this.$results.on("mouseenter",".select2-results__option--selectable",function(d){d=b.GetData(this,"data");h.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false");h.trigger("results:focus",
{data:d,element:a(this)})})},d.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},d.prototype.destroy=function(){this.$results.remove()},d.prototype.ensureHighlightVisible=function(){var a,b,d,c,e=this.getHighlightedResults();0!==e.length&&(a=this.$results.find(".select2-results__option--selectable").index(e),c=this.$results.offset().top,b=e.offset().top,d=this.$results.scrollTop()+(b-c),c=b-c,d-=2*e.outerHeight(!1),2>=a?this.$results.scrollTop(0):
(c>this.$results.outerHeight()||0>c)&&this.$results.scrollTop(d))},d.prototype.template=function(b,d){var c=this.options.get("templateResult"),e=this.options.get("escapeMarkup");b=c(b,d);null==b?d.style.display="none":"string"==typeof b?d.innerHTML=e(b):a(d).append(b)},d}),q.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),q.define("select2/selection/base",
["jquery","../utils","../keys"],function(a,b,d){function c(a,b){this.$element=a;this.options=b;c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var d=a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=b.GetData(this.$element[0],"old-tabindex")?this._tabindex=b.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),
d.attr("title",this.$element.attr("title")),d.attr("tabindex",this._tabindex),d.attr("aria-disabled","false"),this.$selection=d},c.prototype.bind=function(a,b){var c=this,h=a.id+"-results";this.container=a;this.$selection.on("focus",function(a){c.trigger("focus",a)});this.$selection.on("blur",function(a){c._handleBlur(a)});this.$selection.on("keydown",function(a){c.trigger("keypress",a);a.which===d.SPACE&&a.preventDefault()});a.on("results:focus",function(a){c.$selection.attr("aria-activedescendant",
a.data._resultId)});a.on("selection:update",function(a){c.update(a.data)});a.on("open",function(){c.$selection.attr("aria-expanded","true");c.$selection.attr("aria-owns",h);c._attachCloseHandler(a)});a.on("close",function(){c.$selection.attr("aria-expanded","false");c.$selection.removeAttr("aria-activedescendant");c.$selection.removeAttr("aria-owns");c.$selection.trigger("focus");c._detachCloseHandler(a)});a.on("enable",function(){c.$selection.attr("tabindex",c._tabindex);c.$selection.attr("aria-disabled",
"false")});a.on("disable",function(){c.$selection.attr("tabindex","-1");c.$selection.attr("aria-disabled","true")})},c.prototype._handleBlur=function(b){var d=this;window.setTimeout(function(){document.activeElement==d.$selection[0]||a.contains(d.$selection[0],document.activeElement)||d.trigger("blur",b)},1)},c.prototype._attachCloseHandler=function(d){a(document.body).on("mousedown.select2."+d.id,function(d){var c=a(d.target).closest(".select2");a(".select2.select2-container--open").each(function(){this!=
c[0]&&b.GetData(this,"element").select2("close")})})},c.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},c.prototype.position=function(a,b){b.find(".selection").append(a)},c.prototype.destroy=function(){this._detachCloseHandler(this.container)},c.prototype.update=function(a){throw Error("The `update` method must be defined in child classes.");},c.prototype.isEnabled=function(){return!this.isDisabled()},c.prototype.isDisabled=function(){return this.options.get("disabled")},
c}),q.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,d,c){function e(){e.__super__.constructor.apply(this,arguments)}return d.Extend(e,b),e.prototype.render=function(){var a=e.__super__.render.call(this);return a[0].classList.add("select2-selection--single"),a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),a},e.prototype.bind=function(a,b){var d=this;e.__super__.bind.apply(this,
arguments);var c=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",c).attr("role","textbox").attr("aria-readonly","true");this.$selection.attr("aria-labelledby",c);this.$selection.attr("aria-controls",c);this.$selection.on("mousedown",function(a){1===a.which&&d.trigger("toggle",{originalEvent:a})});this.$selection.on("focus",function(a){});this.$selection.on("blur",function(a){});a.on("focus",function(b){a.isOpen()||d.$selection.trigger("focus")})},e.prototype.clear=
function(){var a=this.$selection.find(".select2-selection__rendered");a.empty();a.removeAttr("title")},e.prototype.display=function(a,b){var d=this.options.get("templateSelection");return this.options.get("escapeMarkup")(d(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){var b,d;0!==a.length?(d=a[0],b=this.$selection.find(".select2-selection__rendered"),a=this.display(d,b),b.empty().append(a),(d=d.title||d.text)?b.attr("title",d):b.removeAttr("title")):
this.clear()},e}),q.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,d){function c(a,b){c.__super__.constructor.apply(this,arguments)}return d.Extend(c,b),c.prototype.render=function(){var a=c.__super__.render.call(this);return a[0].classList.add("select2-selection--multiple"),a.html('<ul class="select2-selection__rendered"></ul>'),a},c.prototype.bind=function(b,e){var h=this;c.__super__.bind.apply(this,arguments);var f=b.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",
f);this.$selection.on("click",function(a){h.trigger("toggle",{originalEvent:a})});this.$selection.on("click",".select2-selection__choice__remove",function(b){var c;h.isDisabled()||(c=a(this).parent(),c=d.GetData(c[0],"data"),h.trigger("unselect",{originalEvent:b,data:c}))});this.$selection.on("keydown",".select2-selection__choice__remove",function(a){h.isDisabled()||a.stopPropagation()})},c.prototype.clear=function(){var a=this.$selection.find(".select2-selection__rendered");a.empty();a.removeAttr("title")},
c.prototype.display=function(a,b){var d=this.options.get("templateSelection");return this.options.get("escapeMarkup")(d(a,b))},c.prototype.selectionContainer=function(){return a('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>')},c.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],c=this.$selection.find(".select2-selection__rendered").attr("id")+
"-choice-",e=0;e<a.length;e++){var f=a[e],r=this.selectionContainer(),g=this.display(f,r),v=c+d.generateChars(4)+"-";f.id?v+=f.id:v+=d.generateChars(4);r.find(".select2-selection__choice__display").append(g).attr("id",v);var B=f.title||f.text;B&&r.attr("title",B);g=this.options.get("translations").get("removeItem");B=r.find(".select2-selection__choice__remove");B.attr("title",g());B.attr("aria-label",g());B.attr("aria-describedby",v);d.StoreData(r[0],"data",f);b.push(r)}this.$selection.find(".select2-selection__rendered").append(b)}},
c}),q.define("select2/selection/placeholder",[],function(){function a(a,b,d){this.placeholder=this.normalizePlaceholder(d.get("placeholder"));a.call(this,b,d)}return a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.createPlaceholder=function(a,b){a=this.selectionContainer();a.html(this.display(b));a[0].classList.add("select2-selection__placeholder");a[0].classList.remove("select2-selection__choice");b=b.title||b.text||a.text();return this.$selection.find(".select2-selection__rendered").attr("title",
b),a},a.prototype.update=function(a,b){var d=1==b.length&&b[0].id!=this.placeholder.id;if(1<b.length||d)return a.call(this,b);this.clear();b=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(b)},a}),q.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(a,b,d){function c(){}return c.prototype.bind=function(a,b,d){var c=this;a.call(this,b,d);null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&
console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.");this.$selection.on("mousedown",".select2-selection__clear",function(a){c._handleClear(a)});b.on("keypress",function(a){c._handleKeyboardClear(a,b)})},c.prototype._handleClear=function(a,b){if(!this.isDisabled()&&(a=this.$selection.find(".select2-selection__clear"),0!==a.length)){b.stopPropagation();b=d.GetData(a[0],"data");a=this.$element.val();this.$element.val(this.placeholder.id);var c=
{data:b};if(this.trigger("clear",c),c.prevented)this.$element.val(a);else{for(var e=0;e<b.length;e++)if(c={data:b[e]},this.trigger("unselect",c),c.prevented)return void this.$element.val(a);this.$element.trigger("input").trigger("change");this.trigger("toggle",{})}}},c.prototype._handleKeyboardClear=function(a,d,c){c.isOpen()||d.which!=b.DELETE&&d.which!=b.BACKSPACE||this._handleClear(d)},c.prototype.update=function(b,c){var e,h;b.call(this,c);this.$selection.find(".select2-selection__clear").remove();
this.$selection[0].classList.remove("select2-selection--clearable");0<this.$selection.find(".select2-selection__placeholder").length||0===c.length||(e=this.$selection.find(".select2-selection__rendered").attr("id"),h=this.options.get("translations").get("removeAllItems"),(b=a('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>')).attr("title",h()),b.attr("aria-label",h()),b.attr("aria-describedby",e),d.StoreData(b[0],"data",c),this.$selection.prepend(b),
this.$selection[0].classList.add("select2-selection--clearable"))},c}),q.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,d){function c(a,b,d){a.call(this,b,d)}return c.prototype.render=function(b){var d=this.options.get("translations").get("search"),c=a('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');
this.$searchContainer=c;this.$search=c.find("textarea");this.$search.prop("autocomplete",this.options.get("autocomplete"));this.$search.attr("aria-label",d());b=b.call(this);return this._transferTabIndex(),b.append(this.$searchContainer),b},c.prototype.bind=function(a,c,e){var h=this,f=c.id+"-results",g=c.id+"-container";a.call(this,c,e);h.$search.attr("aria-describedby",g);c.on("open",function(){h.$search.attr("aria-controls",f);h.$search.trigger("focus")});c.on("close",function(){h.$search.val("");
h.resizeSearch();h.$search.removeAttr("aria-controls");h.$search.removeAttr("aria-activedescendant");h.$search.trigger("focus")});c.on("enable",function(){h.$search.prop("disabled",!1);h._transferTabIndex()});c.on("disable",function(){h.$search.prop("disabled",!0)});c.on("focus",function(a){h.$search.trigger("focus")});c.on("results:focus",function(a){a.data._resultId?h.$search.attr("aria-activedescendant",a.data._resultId):h.$search.removeAttr("aria-activedescendant")});this.$selection.on("focusin",
".select2-search--inline",function(a){h.trigger("focus",a)});this.$selection.on("focusout",".select2-search--inline",function(a){h._handleBlur(a)});this.$selection.on("keydown",".select2-search--inline",function(a){var c;a.stopPropagation();h.trigger("keypress",a);h._keyUpPrevented=a.isDefaultPrevented();a.which!==d.BACKSPACE||""!==h.$search.val()||0<(c=h.$selection.find(".select2-selection__choice").last()).length&&(c=b.GetData(c[0],"data"),h.searchRemoveChoice(c),a.preventDefault())});this.$selection.on("click",
".select2-search--inline",function(a){h.$search.val()&&a.stopPropagation()});var r=(c=document.documentMode)&&11>=c;this.$selection.on("input.searchcheck",".select2-search--inline",function(a){r?h.$selection.off("input.search input.searchcheck"):h.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){var b;r&&"input"===a.type?h.$selection.off("input.search input.searchcheck"):(b=a.which)!=d.SHIFT&&b!=d.CTRL&&b!=d.ALT&&b!=d.TAB&&h.handleSearch(a)})},
c.prototype._transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")},c.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},c.prototype.update=function(a,b){var d=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");a.call(this,b);this.resizeSearch();d&&this.$search.trigger("focus")},c.prototype.handleSearch=function(){var a;this.resizeSearch();this._keyUpPrevented||(a=this.$search.val(),
this.trigger("query",{term:a}));this._keyUpPrevented=!1},c.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b});this.$search.val(b.text);this.handleSearch()},c.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="100%";""===this.$search.attr("placeholder")&&(a=.75*(this.$search.val().length+1)+"em");this.$search.css("width",a)},c}),q.define("select2/selection/selectionCss",["../utils"],function(a){function b(){}return b.prototype.render=function(b){var d=
b.call(this);b=this.options.get("selectionCssClass")||"";return-1!==b.indexOf(":all:")&&(b=b.replace(":all:",""),a.copyNonInternalCssClasses(d[0],this.$element[0])),d.addClass(b),d},b}),q.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,d,c){var e=this,f="open opening close closing select selecting unselect unselecting clear clearing".split(" "),g=["opening","closing","selecting","unselecting","clearing"];b.call(this,d,c);d.on("*",function(b,
d){var c;-1!==f.indexOf(b)&&(d=d||{},c=a.Event("select2:"+b,{params:d}),e.$element.trigger(c),-1!==g.indexOf(b)&&(d.prevented=c.isDefaultPrevented()))})},b}),q.define("select2/translation",["jquery","require"],function(a,b){function d(a){this.dict=a||{}}return d.prototype.all=function(){return this.dict},d.prototype.get=function(a){return this.dict[a]},d.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},d._cache={},d.loadPath=function(a){var c;return a in d._cache||(c=b(a),d._cache[a]=
c),new d(d._cache[a])},d}),q.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\u00c4":"A","\u01de":"A","\u1ea2":"A","\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A",
"\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u00c7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D",
"\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F",
"\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I",
"\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L",
"\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O",
"\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u0152":"OE","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P",
"\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S",
"\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U",
"\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\u00dd":"Y",
"\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a",
"\u1eb3":"a","\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c",
"\u0109":"c","\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e",
"\u00eb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h",
"\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k",
"\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\u00f1":"n",
"\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o",
"\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u0153":"oe","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r",
"\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t",
"\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v",
"\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\u00ff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z",
"\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03ce":"\u03c9","\u03c2":"\u03c3","\u2019":"'"}}),
q.define("select2/data/base",["../utils"],function(a){function b(a,d){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw Error("The `current` method must be defined in child classes.");},b.prototype.query=function(a,b){throw Error("The `query` method must be defined in child classes.");},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,d){b=b.id+"-result-";return b+=a.generateChars(4),null!=
d.id?b+="-"+d.id.toString():b+="-"+a.generateChars(4),b},b}),q.define("select2/data/select",["./base","../utils","jquery"],function(a,b,d){function c(a,b){this.$element=a;this.options=b;c.__super__.constructor.call(this)}return b.Extend(c,a),c.prototype.current=function(a){var b=this;a(Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),function(a){return b.item(d(a))}))},c.prototype.select=function(a){var b,d=this;if(a.selected=!0,null!=a.element&&"option"===a.element.tagName.toLowerCase())return a.element.selected=
!0,void this.$element.trigger("input").trigger("change");this.$element.prop("multiple")?this.current(function(b){var c=[];(a=[a]).push.apply(a,b);for(b=0;b<a.length;b++){var e=a[b].id;-1===c.indexOf(e)&&c.push(e)}d.$element.val(c);d.$element.trigger("input").trigger("change")}):(b=a.id,this.$element.val(b),this.$element.trigger("input").trigger("change"))},c.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple")){if(a.selected=!1,null!=a.element&&"option"===a.element.tagName.toLowerCase())return a.element.selected=
!1,void this.$element.trigger("input").trigger("change");this.current(function(d){for(var c=[],e=0;e<d.length;e++){var h=d[e].id;h!==a.id&&-1===c.indexOf(h)&&c.push(h)}b.$element.val(c);b.$element.trigger("input").trigger("change")})}},c.prototype.bind=function(a,b){var d=this;(this.container=a).on("select",function(a){d.select(a.data)});a.on("unselect",function(a){d.unselect(a.data)})},c.prototype.destroy=function(){this.$element.find("*").each(function(){b.RemoveData(this)})},c.prototype.query=
function(a,b){var c=[],e=this;this.$element.children().each(function(){var b;"option"!==this.tagName.toLowerCase()&&"optgroup"!==this.tagName.toLowerCase()||(b=d(this),b=e.item(b),null!==(b=e.matches(a,b))&&c.push(b))});b({results:c})},c.prototype.addOptions=function(a){this.$element.append(a)},c.prototype.option=function(a){var c;a.children?(c=document.createElement("optgroup")).label=a.text:void 0!==(c=document.createElement("option")).textContent?c.textContent=a.text:c.innerText=a.text;void 0!==
a.id&&(c.value=a.id);a.disabled&&(c.disabled=!0);a.selected&&(c.selected=!0);a.title&&(c.title=a.title);a=this._normalizeItem(a);return a.element=c,b.StoreData(c,"data",a),d(c)},c.prototype.item=function(a){var c;if(null!=(c=b.GetData(a[0],"data")))return c;var e=a[0];if("option"===e.tagName.toLowerCase())c={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if("optgroup"===e.tagName.toLowerCase()){c={text:a.prop("label"),children:[],title:a.prop("title")};
e=a.children("option");for(var f=[],g=0;g<e.length;g++){var r=d(e[g]);r=this.item(r);f.push(r)}c.children=f}return(c=this._normalizeItem(c)).element=a[0],b.StoreData(a[0],"data",c),c},c.prototype._normalizeItem=function(a){a!==Object(a)&&(a={id:a,text:a});return null!=(a=d.extend({},{text:""},a)).id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a)),d.extend({},{selected:!1,disabled:!1},
a)},c.prototype.matches=function(a,b){return this.options.get("matcher")(a,b)},c}),q.define("select2/data/array",["./select","../utils","jquery"],function(a,b,d){function c(a,b){this._dataToConvert=b.get("data")||[];c.__super__.constructor.call(this,a,b)}return b.Extend(c,a),c.prototype.bind=function(a,b){c.__super__.bind.call(this,a,b);this.addOptions(this.convertToOptions(this._dataToConvert))},c.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,d){return d.value==
a.id.toString()});0===b.length&&(b=this.option(a),this.addOptions(b));c.__super__.select.call(this,a)},c.prototype.convertToOptions=function(a){for(var b=this,c=this.$element.find("option"),e=c.map(function(){return b.item(d(this)).id}).get(),f=[],g=0;g<a.length;g++){var r,l,k=this._normalizeItem(a[g]);0<=e.indexOf(k.id)?(r=c.filter(function(a){return function(){return d(this).val()==a.id}}(k)),l=this.item(r),l=d.extend(!0,{},k,l),l=this.option(l),r.replaceWith(l)):(l=this.option(k),k.children&&(k=
this.convertToOptions(k.children),l.append(k)),f.push(l))}return f},c}),q.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,d){function c(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax"));null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults);c.__super__.constructor.call(this,a,b)}return b.Extend(c,a),c.prototype._applyDefaults=function(a){return d.extend({},{data:function(a){return d.extend({},a,{q:a.term})},transport:function(a,
b,c){a=d.ajax(a);return a.then(b),a.fail(c),a}},a,!0)},c.prototype.processResults=function(a){return a},c.prototype.query=function(a,b){function c(){var d=f.transport(f,function(d){d=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(d&&d.results&&Array.isArray(d.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response."));b(d)},function(){"status"in d&&(0===d.status||"0"===d.status)||e.trigger("results:message",{message:"errorLoading"})});
e._request=d}var e=this;null!=this._request&&("function"==typeof this._request.abort&&this._request.abort(),this._request=null);var f=d.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url.call(this.$element,a));"function"==typeof f.data&&(f.data=f.data.call(this.$element,a));this.ajaxOptions.delay&&null!=a.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(c,this.ajaxOptions.delay)):c()},c}),q.define("select2/data/tags",
["jquery"],function(a){function b(a,b,d){var c=d.get("tags"),e=d.get("createTag");void 0!==e&&(this.createTag=e);e=d.get("insertTag");if(void 0!==e&&(this.insertTag=e),a.call(this,b,d),Array.isArray(c))for(a=0;a<c.length;a++)b=c[a],b=this._normalizeItem(b),b=this.option(b),this.$element.append(b)}return b.prototype.query=function(a,b,d){var c=this;this._removeOldTags();null!=b.term&&null==b.page?a.call(this,b,function I(a,e){for(var f=a.results,h=0;h<f.length;h++){var g=f[h],l=null!=g.children&&!I({results:g.children},
!0);if((g.text||"").toUpperCase()===(b.term||"").toUpperCase()||l)return!e&&(a.data=f,void d(a))}if(e)return!0;var k;e=c.createTag(b);null!=e&&((k=c.option(e)).attr("data-select2-tag","true"),c.addOptions([k]),c.insertTag(f,e));a.results=f;d(a)}):a.call(this,b,d)},b.prototype.createTag=function(a,b){if(null==b.term)return null;b=b.term.trim();return""===b?null:{id:b,text:b}},b.prototype.insertTag=function(a,b,d){b.unshift(d)},b.prototype._removeOldTags=function(b){this.$element.find("option[data-select2-tag]").each(function(){this.selected||
a(this).remove()})},b}),q.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,d){var c=d.get("tokenizer");void 0!==c&&(this.tokenizer=c);a.call(this,b,d)}return b.prototype.bind=function(a,b,d){a.call(this,b,d);this.$search=b.dropdown.$search||b.selection.$search||d.find(".select2-search__field")},b.prototype.query=function(b,d,c){var e=this;d.term=d.term||"";var f=this.tokenizer(d,this.options,function(b){var d,c=e._normalizeItem(b);e.$element.find("option").filter(function(){return a(this).val()===
c.id}).length||((d=e.option(c)).attr("data-select2-tag",!0),e._removeOldTags(),e.addOptions([d]));e.trigger("select",{data:c})});f.term!==d.term&&(this.$search.length&&(this.$search.val(f.term),this.$search.trigger("focus")),d.term=f.term);b.call(this,d,c)},b.prototype.tokenizer=function(b,d,c,e){b=c.get("tokenSeparators")||[];c=d.term;for(var f=0,g=this.createTag||function(a){return{id:a.term,text:a.term}};f<c.length;){var h=c[f];-1!==b.indexOf(h)?(h=c.substr(0,f),null!=(h=g(a.extend({},d,{term:h})))?
(e(h),c=c.substr(f+1)||"",f=0):f++):f++}return{term:c}},b}),q.define("select2/data/minimumInputLength",[],function(){function a(a,b,d){this.minimumInputLength=d.get("minimumInputLength");a.call(this,b,d)}return a.prototype.query=function(a,b,d){b.term=b.term||"";b.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}}):a.call(this,b,d)},a}),q.define("select2/data/maximumInputLength",[],function(){function a(a,
b,d){this.maximumInputLength=d.get("maximumInputLength");a.call(this,b,d)}return a.prototype.query=function(a,b,d){b.term=b.term||"";0<this.maximumInputLength&&b.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}}):a.call(this,b,d)},a}),q.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,d){this.maximumSelectionLength=d.get("maximumSelectionLength");a.call(this,b,d)}return a.prototype.bind=
function(a,b,d){var c=this;a.call(this,b,d);b.on("select",function(){c._checkIfMaximumSelected()})},a.prototype.query=function(a,b,d){var c=this;this._checkIfMaximumSelected(function(){a.call(c,b,d)})},a.prototype._checkIfMaximumSelected=function(a,b){var d=this;this.current(function(a){a=null!=a?a.length:0;0<d.maximumSelectionLength&&a>=d.maximumSelectionLength?d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}}):b&&b()})},a}),q.define("select2/dropdown",
["jquery","./utils"],function(a,b){function d(a,b){this.$element=a;this.options=b;d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b},d.prototype.bind=function(){},d.prototype.position=function(a,b){},d.prototype.destroy=function(){this.$dropdown.remove()},d}),q.define("select2/dropdown/search",["jquery"],
function(a){function b(){}return b.prototype.render=function(b){var d=b.call(this),c=this.options.get("translations").get("search");b=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=b,this.$search=b.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",
c()),d.prepend(b),d},b.prototype.bind=function(b,d,c){var e=this,f=d.id+"-results";b.call(this,d,c);this.$search.on("keydown",function(a){e.trigger("keypress",a);e._keyUpPrevented=a.isDefaultPrevented()});this.$search.on("input",function(b){a(this).off("keyup")});this.$search.on("keyup input",function(a){e.handleSearch(a)});d.on("open",function(){e.$search.attr("tabindex",0);e.$search.attr("aria-controls",f);e.$search.trigger("focus");window.setTimeout(function(){e.$search.trigger("focus")},0)});
d.on("close",function(){e.$search.attr("tabindex",-1);e.$search.removeAttr("aria-controls");e.$search.removeAttr("aria-activedescendant");e.$search.val("");e.$search.trigger("blur")});d.on("focus",function(){d.isOpen()||e.$search.trigger("focus")});d.on("results:all",function(a){null!=a.query.term&&""!==a.query.term||(e.showSearch(a)?e.$searchContainer[0].classList.remove("select2-search--hide"):e.$searchContainer[0].classList.add("select2-search--hide"))});d.on("results:focus",function(a){a.data._resultId?
e.$search.attr("aria-activedescendant",a.data._resultId):e.$search.removeAttr("aria-activedescendant")})},b.prototype.handleSearch=function(a){var b;this._keyUpPrevented||(b=this.$search.val(),this.trigger("query",{term:b}));this._keyUpPrevented=!1},b.prototype.showSearch=function(a,b){return!0},b}),q.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,d,c){this.placeholder=this.normalizePlaceholder(d.get("placeholder"));a.call(this,b,d,c)}return a.prototype.append=function(a,b){b.results=
this.removePlaceholder(b.results);a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){a=b.slice(0);for(var d=b.length-1;0<=d;d--)this.placeholder.id===b[d].id&&a.splice(d,1);return a},a}),q.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,d,c){this.lastParams={};a.call(this,b,d,c);this.$loadingMore=this.createLoadingMore();this.loading=!1}return b.prototype.append=function(a,
b){this.$loadingMore.remove();this.loading=!1;a.call(this,b);this.showLoadingMore(b)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},b.prototype.bind=function(a,b,d){var c=this;a.call(this,b,d);b.on("query",function(a){c.lastParams=a;c.loading=!0});b.on("query:append",function(a){c.lastParams=a;c.loading=!0});this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},b.prototype.loadMoreIfNeeded=function(){var b=a.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&
b&&(b=this.$results.offset().top+this.$results.outerHeight(!1),this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=b+50&&this.loadMore())},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++;this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),
d=this.options.get("translations").get("loadingMore");return b.html(d(this.lastParams)),b},b}),q.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function d(b,d,c){this.$dropdownParent=a(c.get("dropdownParent")||document.body);b.call(this,d,c)}return d.prototype.bind=function(a,b,d){var c=this;a.call(this,b,d);b.on("open",function(){c._showDropdown();c._attachPositioningHandler(b);c._bindContainerResultHandlers(b)});b.on("close",function(){c._hideDropdown();c._detachPositioningHandler(b)});
this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},d.prototype.destroy=function(a){a.call(this);this.$dropdownContainer.remove()},d.prototype.position=function(a,b,d){b.attr("class",d.attr("class"));b[0].classList.remove("select2");b[0].classList.add("select2-container--open");b.css({position:"absolute",top:-999999});this.$container=d},d.prototype.render=function(b){var d=a("<span></span>");b=b.call(this);return d.append(b),this.$dropdownContainer=d},d.prototype._hideDropdown=
function(a){this.$dropdownContainer.detach()},d.prototype._bindContainerResultHandlers=function(a,b){var d;this._containerResultsHandlersBound||(d=this,b.on("results:all",function(){d._positionDropdown();d._resizeDropdown()}),b.on("results:append",function(){d._positionDropdown();d._resizeDropdown()}),b.on("results:message",function(){d._positionDropdown();d._resizeDropdown()}),b.on("select",function(){d._positionDropdown();d._resizeDropdown()}),b.on("unselect",function(){d._positionDropdown();d._resizeDropdown()}),
this._containerResultsHandlersBound=!0)},d.prototype._attachPositioningHandler=function(d,c){var e=this;d="scroll.select2."+c.id;var f="resize.select2."+c.id,g="orientationchange.select2."+c.id;c=this.$container.parents().filter(b.hasScroll);c.each(function(){b.StoreData(this,"select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})});c.on(d,function(d){d=b.GetData(this,"select2-scroll-position");a(this).scrollTop(d.y)});a(window).on(d+" "+f+" "+g,function(a){e._positionDropdown();
e._resizeDropdown()})},d.prototype._detachPositioningHandler=function(d,c){d="scroll.select2."+c.id;var e="resize.select2."+c.id;c="orientationchange.select2."+c.id;this.$container.parents().filter(b.hasScroll).off(d);a(window).off(d+" "+e+" "+c)},d.prototype._positionDropdown=function(){var b=a(window),d=this.$dropdown[0].classList.contains("select2-dropdown--above"),c=this.$dropdown[0].classList.contains("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);
var g=this.$container.outerHeight(!1);var l=f.top;g=f.top+g;var k=this.$dropdown.outerHeight(!1),m=b.scrollTop(),n=b.scrollTop()+b.height(),p=m<f.top-k;b=n>f.bottom+k;m={left:f.left,top:g};n=this.$dropdownParent;"static"===n.css("position")&&(n=n.offsetParent());f={top:0,left:0};(a.contains(document.body,n[0])||n[0].isConnected)&&(f=n.offset());m.top-=f.top;m.left-=f.left;d||c||(e="below");b||!p||d?!p&&b&&d&&(e="below"):e="above";("above"==e||d&&"below"!==e)&&(m.top=l-f.top-k);null!=e&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),
this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+e),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+e));this.$dropdownContainer.css(m)},d.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.position="relative",
a.width="auto");this.$dropdown.css(a)},d.prototype._showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()},d}),q.define("select2/dropdown/minimumResultsForSearch",[],function(){function a(a,b,d,c){this.minimumResultsForSearch=d.get("minimumResultsForSearch");0>this.minimumResultsForSearch&&(this.minimumResultsForSearch=1/0);a.call(this,b,d,c)}return a.prototype.showSearch=function(a,b){return!(function h(a){for(var b=0,d=0;d<
a.length;d++){var c=a[d];c.children?b+=h(c.children):b++}return b}(b.data.results)<this.minimumResultsForSearch)&&a.call(this,b)},a}),q.define("select2/dropdown/selectOnClose",["../utils"],function(a){function b(){}return b.prototype.bind=function(a,b,d){var c=this;a.call(this,b,d);b.on("close",function(a){c._handleSelectOnClose(a)})},b.prototype._handleSelectOnClose=function(b,d){if(d&&null!=d.originalSelect2Event&&(b=d.originalSelect2Event,"select"===b._type||"unselect"===b._type))return;b=this.getHighlightedResults();
1>b.length||null!=(b=a.GetData(b[0],"data")).element&&b.element.selected||null==b.element&&b.selected||this.trigger("select",{data:b})},b}),q.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,d){var c=this;a.call(this,b,d);b.on("select",function(a){c._selectTriggered(a)});b.on("unselect",function(a){c._selectTriggered(a)})},a.prototype._selectTriggered=function(a,b){(a=b.originalEvent)&&(a.ctrlKey||a.metaKey)||this.trigger("close",{originalEvent:a,
originalSelect2Event:b})},a}),q.define("select2/dropdown/dropdownCss",["../utils"],function(a){function b(){}return b.prototype.render=function(b){var d=b.call(this);b=this.options.get("dropdownCssClass")||"";return-1!==b.indexOf(":all:")&&(b=b.replace(":all:",""),a.copyNonInternalCssClasses(d[0],this.$element[0])),d.addClass(b),d},b}),q.define("select2/dropdown/tagsSearchHighlight",["../utils"],function(a){function b(){}return b.prototype.highlightFirstItem=function(b){var d=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)");
if(0<d.length){var c=d.first();if((d=a.GetData(c[0],"data").element)&&d.getAttribute&&"true"===d.getAttribute("data-select2-tag"))return void c.trigger("mouseenter")}b.call(this)},b}),q.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum;a="Please delete "+b+" character";return 1!=b&&(a+="s"),a},inputTooShort:function(a){return"Please enter "+(a.minimum-a.input.length)+" or more characters"},
loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}}),q.define("select2/defaults","jquery ./results ./selection/single ./selection/multiple ./selection/placeholder ./selection/allowClear ./selection/search ./selection/selectionCss ./selection/eventRelay ./utils ./translation ./diacritics ./data/select ./data/array ./data/ajax ./data/tags ./data/tokenizer ./data/minimumInputLength ./data/maximumInputLength ./data/maximumSelectionLength ./dropdown ./dropdown/search ./dropdown/hidePlaceholder ./dropdown/infiniteScroll ./dropdown/attachBody ./dropdown/minimumResultsForSearch ./dropdown/selectOnClose ./dropdown/closeOnSelect ./dropdown/dropdownCss ./dropdown/tagsSearchHighlight ./i18n/en".split(" "),
function(a,b,d,c,e,f,g,l,k,m,n,p,t,u,w,q,y,x,F,D,z,E,J,K,L,M,N,O,P,Q,R){function h(){this.reset()}return h.prototype.apply=function(h){var n;null==(h=a.extend(!0,{},this.defaults,h)).dataAdapter&&(null!=h.ajax?h.dataAdapter=w:null!=h.data?h.dataAdapter=u:h.dataAdapter=t,0<h.minimumInputLength&&(h.dataAdapter=m.Decorate(h.dataAdapter,x)),0<h.maximumInputLength&&(h.dataAdapter=m.Decorate(h.dataAdapter,F)),0<h.maximumSelectionLength&&(h.dataAdapter=m.Decorate(h.dataAdapter,D)),h.tags&&(h.dataAdapter=
m.Decorate(h.dataAdapter,q)),null==h.tokenSeparators&&null==h.tokenizer||(h.dataAdapter=m.Decorate(h.dataAdapter,y)));null==h.resultsAdapter&&(h.resultsAdapter=b,null!=h.ajax&&(h.resultsAdapter=m.Decorate(h.resultsAdapter,K)),null!=h.placeholder&&(h.resultsAdapter=m.Decorate(h.resultsAdapter,J)),h.selectOnClose&&(h.resultsAdapter=m.Decorate(h.resultsAdapter,N)),h.tags&&(h.resultsAdapter=m.Decorate(h.resultsAdapter,Q)));null==h.dropdownAdapter&&(h.multiple?h.dropdownAdapter=z:(n=m.Decorate(z,E),h.dropdownAdapter=
n),0!==h.minimumResultsForSearch&&(h.dropdownAdapter=m.Decorate(h.dropdownAdapter,M)),h.closeOnSelect&&(h.dropdownAdapter=m.Decorate(h.dropdownAdapter,O)),null!=h.dropdownCssClass&&(h.dropdownAdapter=m.Decorate(h.dropdownAdapter,P)),h.dropdownAdapter=m.Decorate(h.dropdownAdapter,L));null==h.selectionAdapter&&(h.multiple?h.selectionAdapter=c:h.selectionAdapter=d,null!=h.placeholder&&(h.selectionAdapter=m.Decorate(h.selectionAdapter,e)),h.allowClear&&(h.selectionAdapter=m.Decorate(h.selectionAdapter,
f)),h.multiple&&(h.selectionAdapter=m.Decorate(h.selectionAdapter,g)),null!=h.selectionCssClass&&(h.selectionAdapter=m.Decorate(h.selectionAdapter,l)),h.selectionAdapter=m.Decorate(h.selectionAdapter,k));h.language=this._resolveLanguage(h.language);h.language.push("en");n=[];for(var r=0;r<h.language.length;r++){var p=h.language[r];-1===n.indexOf(p)&&n.push(p)}return h.language=n,h.translations=this._processTranslations(h.language,h.debug),h},h.prototype.reset=function(){function b(a){return a.replace(/[^\u0000-\u007E]/g,
function(a){return p[a]||a})}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:m.escapeMarkup,language:{},matcher:function H(d,c){if(null==d.term||""===d.term.trim())return c;if(c.children&&0<c.children.length){for(var e=a.extend(!0,{},c),f=c.children.length-1;0<=f;f--)null==H(d,c.children[f])&&e.children.splice(f,1);return 0<e.children.length?e:H(d,e)}e=b(c.text).toUpperCase();d=b(d.term).toUpperCase();return-1<e.indexOf(d)?c:
null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},h.prototype.applyFromElement=function(a,b){var d=a.language,c=this.defaults.language,e=b.prop("lang");b=b.closest("[lang]").prop("lang");b=Array.prototype.concat.call(this._resolveLanguage(e),this._resolveLanguage(d),
this._resolveLanguage(c),this._resolveLanguage(b));return a.language=b,a},h.prototype._resolveLanguage=function(b){if(!b||a.isEmptyObject(b))return[];if(a.isPlainObject(b))return[b];var d;b=Array.isArray(b)?b:[b];for(var c=[],e=0;e<b.length;e++)c.push(b[e]),"string"==typeof b[e]&&0<b[e].indexOf("-")&&(d=b[e].split("-")[0],c.push(d));return c},h.prototype._processTranslations=function(b,d){for(var c=new n,e=0;e<b.length;e++){var f=new n,h=b[e];if("string"==typeof h)try{f=n.loadPath(h)}catch(S){try{h=
this.defaults.amdLanguageBase+h,f=n.loadPath(h)}catch(T){d&&window.console&&console.warn&&console.warn('Select2: The language file for "'+h+'" could not be automatically loaded. A fallback will be used instead.')}}else f=a.isPlainObject(h)?new n(h):h;c.extend(f)}return c},h.prototype.set=function(b,d){var c={};c[a.camelCase(b)]=d;c=m._convertData(c);a.extend(!0,this.defaults,c)},new h}),q.define("select2/options",["jquery","./defaults","./utils"],function(a,b,d){function c(a,d){this.options=a;null!=
d&&this.fromElement(d);null!=d&&(this.options=b.applyFromElement(this.options,d));this.options=b.apply(this.options)}return c.prototype.fromElement=function(b){function c(a,b){return b.toUpperCase()}var e=["select2"];null==this.options.multiple&&(this.options.multiple=b.prop("multiple"));null==this.options.disabled&&(this.options.disabled=b.prop("disabled"));null==this.options.autocomplete&&b.prop("autocomplete")&&(this.options.autocomplete=b.prop("autocomplete"));null==this.options.dir&&(b.prop("dir")?
this.options.dir=b.prop("dir"):b.closest("[dir]").prop("dir")?this.options.dir=b.closest("[dir]").prop("dir"):this.options.dir="ltr");b.prop("disabled",this.options.disabled);b.prop("multiple",this.options.multiple);d.GetData(b[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),d.StoreData(b[0],"data",
d.GetData(b[0],"select2Tags")),d.StoreData(b[0],"tags",!0));d.GetData(b[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),b.attr("ajax--url",d.GetData(b[0],"ajaxUrl")),d.StoreData(b[0],"ajax-Url",d.GetData(b[0],"ajaxUrl")));for(var f={},g=0;g<b[0].attributes.length;g++){var l=b[0].attributes[g].name,k="data-";l.substr(0,
k.length)==k&&(l=l.substring(k.length),k=d.GetData(b[0],l),f[l.replace(/-([a-z])/g,c)]=k)}a.fn.jquery&&"1."==a.fn.jquery.substr(0,2)&&b[0].dataset&&(f=a.extend(!0,{},b[0].dataset,f));var m;b=a.extend(!0,{},d.GetData(b[0]),f);for(m in b=d._convertData(b))-1<e.indexOf(m)||(a.isPlainObject(this.options[m])?a.extend(this.options[m],b[m]):this.options[m]=b[m]);return this},c.prototype.get=function(a){return this.options[a]},c.prototype.set=function(a,b){this.options[a]=b},c}),q.define("select2/core",["jquery",
"./options","./utils","./keys"],function(a,b,d,c){var e=function(a,c){null!=d.GetData(a[0],"select2")&&d.GetData(a[0],"select2").destroy();this.$element=a;this.id=this._generateId(a);c=c||{};this.options=new b(c,a);e.__super__.constructor.call(this);var f=a.attr("tabindex")||0;d.StoreData(a[0],"old-tabindex",f);a.attr("tabindex","-1");c=this.options.get("dataAdapter");this.dataAdapter=new c(a,this.options);f=this.render();this._placeContainer(f);c=this.options.get("selectionAdapter");this.selection=
new c(a,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,f);c=this.options.get("dropdownAdapter");this.dropdown=new c(a,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,f);f=this.options.get("resultsAdapter");this.results=new f(a,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var h=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();
this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(a){h.trigger("selection:update",{data:a})});a[0].classList.add("select2-hidden-accessible");a.attr("aria-hidden","true");this._syncAttributes();d.StoreData(a[0],"select2",this);a.data("select2",this)};return d.Extend(e,d.Observable),e.prototype._generateId=function(a){return"select2-"+(null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+
"-"+d.generateChars(2):d.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype._resolveWidth=function(a,b){var d=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b)return d=this._resolveWidth(a,"style"),null!=d?d:this._resolveWidth(a,"element");if("element"==b)return d=a.outerWidth(!1),0>=d?"auto":d+"px";
if("style"!=b)return"computedstyle"!=b?b:window.getComputedStyle(a[0]).width;a=a.attr("style");if("string"!=typeof a)return null;a=a.split(";");b=0;for(var c=a.length;b<c;b+=1){var e=a[b].replace(/\s/g,"").match(d);if(null!==e&&1<=e.length)return e[1]}return null},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)},e.prototype._registerDomEvents=
function(){var a=this;this.$element.on("change.select2",function(){a.dataAdapter.current(function(b){a.trigger("selection:update",{data:b})})});this.$element.on("focus.select2",function(b){a.trigger("focus",b)});this._syncA=d.bind(this._syncAttributes,this);this._syncS=d.bind(this._syncSubtree,this);this._observer=new window.MutationObserver(function(b){a._syncA();a._syncS(b)});this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},e.prototype._registerDataEvents=function(){var a=
this;this.dataAdapter.on("*",function(b,d){a.trigger(b,d)})},e.prototype._registerSelectionEvents=function(){var a=this,b=["toggle","focus"];this.selection.on("toggle",function(){a.toggleDropdown()});this.selection.on("focus",function(b){a.focus(b)});this.selection.on("*",function(d,c){-1===b.indexOf(d)&&a.trigger(d,c)})},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,d){a.trigger(b,d)})},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",
function(b,d){a.trigger(b,d)})},e.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container[0].classList.add("select2-container--open")});this.on("close",function(){a.$container[0].classList.remove("select2-container--open")});this.on("enable",function(){a.$container[0].classList.remove("select2-container--disabled")});this.on("disable",function(){a.$container[0].classList.add("select2-container--disabled")});this.on("blur",function(){a.$container[0].classList.remove("select2-container--focus")});
this.on("query",function(b){a.isOpen()||a.trigger("open",{});this.dataAdapter.query(b,function(d){a.trigger("results:all",{data:d,query:b})})});this.on("query:append",function(b){this.dataAdapter.query(b,function(d){a.trigger("results:append",{data:d,query:b})})});this.on("keypress",function(b){var d=b.which;a.isOpen()?d===c.ESC||d===c.UP&&b.altKey?(a.close(b),b.preventDefault()):d===c.ENTER||d===c.TAB?(a.trigger("results:select",{}),b.preventDefault()):d===c.SPACE&&b.ctrlKey?(a.trigger("results:toggle",
{}),b.preventDefault()):d===c.UP?(a.trigger("results:previous",{}),b.preventDefault()):d===c.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(d===c.ENTER||d===c.SPACE||d===c.DOWN&&b.altKey)&&(a.open(),b.preventDefault())})},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype._isChangeMutation=function(a){var b=this;if(a.addedNodes&&
0<a.addedNodes.length)for(var d=0;d<a.addedNodes.length;d++){if(a.addedNodes[d].selected)return!0}else{if(a.removedNodes&&0<a.removedNodes.length)return!0;if(Array.isArray(a))return a.some(function(a){return b._isChangeMutation(a)})}return!1},e.prototype._syncSubtree=function(a){a=this._isChangeMutation(a);var b=this;a&&this.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})},e.prototype.trigger=function(a,b){var d=e.__super__.trigger,c={open:"opening",close:"closing",select:"selecting",
unselect:"unselecting",clear:"clearing"};if(void 0===b&&(b={}),a in c){var f=c[a];c={prevented:!1,name:a,args:b};if(d.call(this,f,c),c.prevented)return void(b.prevented=!0)}d.call(this,a,b)},e.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},e.prototype.close=function(a){this.isOpen()&&this.trigger("close",{originalEvent:a})},e.prototype.isEnabled=function(){return!this.isDisabled()},
e.prototype.isDisabled=function(){return this.options.get("disabled")},e.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},e.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&
console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');null!=a&&0!==a.length||(a=[!0]);a=!a[0];this.$element.prop("disabled",a)},e.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current(function(b){a=
b}),a},e.prototype.val=function(a){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==a||0===a.length)return this.$element.val();a=a[0];Array.isArray(a)&&(a=a.map(function(a){return a.toString()}));this.$element.val(a).trigger("input").trigger("change")},e.prototype.destroy=function(){d.RemoveData(this.$container[0]);this.$container.remove();
this._observer.disconnect();this._syncS=this._syncA=this._observer=null;this.$element.off(".select2");this.$element.attr("tabindex",d.GetData(this.$element[0],"old-tabindex"));this.$element[0].classList.remove("select2-hidden-accessible");this.$element.attr("aria-hidden","false");d.RemoveData(this.$element[0]);this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.results=this.dropdown=this.selection=this.dataAdapter=
null},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),d.StoreData(b[0],"element",this.$element),b},e}),q.define("select2/dropdown/attachContainer",[],function(){function a(a,b,d){a.call(this,b,d)}return a.prototype.position=function(a,
b,d){d.find(".dropdown-wrapper").append(b);b[0].classList.add("select2-dropdown--below");d[0].classList.add("select2-container--below")},a}),q.define("select2/dropdown/stopPropagation",[],function(){function a(){}return a.prototype.bind=function(a,b,d){a.call(this,b,d);this.$dropdown.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(a){a.stopPropagation()})},a}),q.define("select2/selection/stopPropagation",
[],function(){function a(){}return a.prototype.bind=function(a,b,d){a.call(this,b,d);this.$selection.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(a){a.stopPropagation()})},a}),z=function(a){function b(b){var g,h=b||window.event,l=k.call(arguments,1),m,p=0,t=0,u=0,w=0,q=0;if(b=a.event.fix(h),b.type="mousewheel","detail"in h&&(t=-1*h.detail),"wheelDelta"in h&&(t=h.wheelDelta),
"wheelDeltaY"in h&&(t=h.wheelDeltaY),"wheelDeltaX"in h&&(p=-1*h.wheelDeltaX),"axis"in h&&h.axis===h.HORIZONTAL_AXIS&&(p=-1*t,t=0),m=0===t?p:t,"deltaY"in h&&(m=t=-1*h.deltaY),"deltaX"in h&&(p=h.deltaX,0===t&&(m=-1*p)),0!==t||0!==p)return 1===h.deltaMode?(m*=g=a.data(this,"mousewheel-line-height"),t*=g,p*=g):2===h.deltaMode&&(m*=g=a.data(this,"mousewheel-page-height"),t*=g,p*=g),u=Math.max(Math.abs(t),Math.abs(p)),(!f||u<f)&&c(h,f=u)&&(f/=40),c(h,u)&&(m/=40,p/=40,t/=40),m=Math[1<=m?"floor":"ceil"](m/
f),p=Math[1<=p?"floor":"ceil"](p/f),t=Math[1<=t?"floor":"ceil"](t/f),n.settings.normalizeOffset&&this.getBoundingClientRect&&(u=this.getBoundingClientRect(),w=b.clientX-u.left,q=b.clientY-u.top),b.deltaX=p,b.deltaY=t,b.deltaFactor=f,b.offsetX=w,b.offsetY=q,b.deltaMode=0,l.unshift(b,m,p,t),e&&clearTimeout(e),e=setTimeout(d,200),(a.event.dispatch||a.event.handle).apply(this,l)}function d(){f=null}function c(a,b){return n.settings.adjustOldDeltas&&"mousewheel"===a.type&&0==b%120}var e,f,g=["wheel","mousewheel",
"DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],k=Array.prototype.slice;if(a.event.fixHooks)for(var m=g.length;m;)a.event.fixHooks[g[--m]]=a.event.mouseHooks;var n=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var d=l.length;d;)this.addEventListener(l[--d],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",n.getLineHeight(this));a.data(this,
"mousewheel-page-height",n.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var d=l.length;d;)this.removeEventListener(l[--d],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height");a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var d=a(b);b=d["offsetParent"in a.fn?"offsetParent":"parent"]();return b.length||(b=a("body")),parseInt(b.css("fontSize"),10)||parseInt(d.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},
settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})},"function"==typeof q.define&&q.define.amd?q.define("jquery-mousewheel",["jquery"],z):"object"==typeof exports?module.exports=z:z(a),q.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(a,b,d,c,e){var f;return null==a.fn.select2&&
(f=["open","close","destroy"],a.fn.select2=function(b){if("object"==typeof(b=b||{}))return this.each(function(){var c=a.extend(!0,{},b);new d(a(this),c)}),this;if("string"!=typeof b)throw Error("Invalid arguments for Select2: "+b);var c,g=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=e.GetData(this,"select2");null==a&&window.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2.");c=a[b].apply(a,g)}),-1<f.indexOf(b)?
this:c}),null==a.fn.select2.defaults&&(a.fn.select2.defaults=c),d}),{define:q.define,require:q.require});var q=z.require("jquery.select2");return a.fn.select2.amd=z,q});"undefined"===typeof window.tdcPostSettings&&(window.tdcPostSettings={tdbTemplateType:"all"});
if(window.tdbVue&&"undefined"!==typeof window.tdbVue.router){var eventHub=new CloudLibraryVue;CloudLibraryVue.component("image-links",{template:'\n            <a :class="classes" :href="link">{{text}}</a>\n        ',props:{classes:[],link:"",text:""}});new CloudLibraryVue({el:"#tdb-modal",router:window.tdbVue.router})}window.tdbVueManager&&"undefined"!==typeof window.tdbVueManager.router&&new CloudLibraryVue({el:"#tdb-modal-website-manager",router:window.tdbVueManager.router});
(function(){function a(a,d,c,g,f,l,k){var b=jQuery(".tdb-"+a+"-templates");b.length&&"undefined"===typeof b.data("tdb-templates")&&("undefined"!==typeof l&&l.call(),tdbGetMobileTemplates(a,d,b),l="","undefined"!==typeof tdcState&&(l=tdcState.isMobileComposer()?"1":""),l={action:"tdb_get_"+a+"_templates",mobile_templates:l,_nonce:window.tdb_globals.wpRestNonce},"cpt_tax"===a?l.data_id=d:l[a+"_id"]=d,jQuery.ajax({type:"POST",url:td_ajax_url,data:l,success:function(e,l,m){b.html("");e=jQuery.parseJSON(e);
l='<div class="tdb-templates-header"><div class="tdb-templates-header-item tdb-templates-header-item-name"><span>Cloud Templates</span></div>'+("undefined"!==typeof g&&!0===g?'<div class="tdb-templates-header-item tdb-templates-header-item-global"><span>Global</span></div>':"")+'<div class="tdb-templates-header-item tdb-templates-header-item-mobile" title="Optional - Create or assign a dedicated Mobile Template"><span>Mobile Template</span></div></div>';var n=m="",p=!1;_.isArray(e)&&e.length?(_.each(e,
function(b,e,l){l="";"true"===b.is_current.toString()&&(l=" tdb-current",p=!0);var k="";e="";switch(a){case "single":k=b.template_title+" - Set template for this post";break;case "category":k=b.template_title+" - Set template for this category";break;case "author":k=b.template_title+" - Set template for this author";break;case "tag":k=b.template_title+" - Set template for this tag";break;case "search":""!==b.cpt?(k=b.template_title+" - Set this template for the "+b.cpt.label+" custom post type",e=
' data-cpt="'+b.cpt.name+'"'):k=b.template_title+" - Set this template for post search results";break;case "woo_product":k=b.template_title+" - Set template for this product";break;case "woo_archive":k=b.template_title+" - Set template for this product archive";break;case "cpt":k=b.template_title+" - Set template for this custom post type";break;case "cpt_tax":""!==b.cpt?(k=b.template_title+" - Set this template for the "+b.cpt.label+" custom post type archive",e=' data-cpt="'+b.cpt.name+'"'):k=b.template_title+
" - Set template for this taxonomy"}l='<div class="tdb-template-el tdb-'+a+"-template-el"+l+'"  data-template-id="'+b.template_id+'"><div class="tdb-template-el-id tdb-'+a+'-template-id">'+b.template_id+'</div><div class="tdb-template-el-title" data-type="'+a+'" data-action="'+c+'" title="'+k+'" data-'+a+'-id="'+d+'" data-template-id="'+b.template_id+'"'+e+">"+b.template_title+'</div><div class="tdb-template-el-wrap"><div class="tdb-template-el-icon"><div class="tdb-template-el-options"><div title="Rename template" class="tdb-template-el-edit">Rename</div><div title="Duplicate template" class="tdb-template-el-duplicate">Duplicate</div><div title="Delete template" class="tdb-template-el-delete">Delete</div></div></div></div>';
"undefined"!==typeof g&&!0===g&&(k="","undefined"!==typeof f&&""!==f&&(k='data-global-action="'+f+'"'),l+='<div class="tdb-template-el-global tdb-'+a+'-template-global" title="Set as Global Template" data-type="'+a+'" data-'+a+'-id="'+d+'" data-template-id="'+b.template_id+'" '+k+e+'><input type="checkbox" class="tdb-template-el-global-input tdb-'+a+'-template-global-input" '+(!0===b.is_global?'checked="checked" ':"")+'><label></label><span class="tdb-template-el-global-checked tdb-'+a+'-template-global-checked">Global</span></div>');
l+='<div class="tdb-template-el-mobile-wrap tdb-'+a+'-template-mobile" data-type="'+a+'" data-'+a+'-id="'+d+'" data-template-id="'+b.template_id+'"><span class="tdb-template-el-mobile">'+(""===b.mobile_template_title?"-":'<span class="tdb-template-el-mobile-active">Yes</span>')+'</span><div class="tdb-template-el-mobile-btns" data-mobile-template-id="'+b.mobile_template_id+'" data-template-id="'+b.template_id+'"><div title="Optional - New mobile template" class="'+a+"id-"+b.template_id+' tdb-template-el-mobile-btn tdb-template-el-mobile-blank tdb-create-mobile-template" data-type="'+
a+'" data-'+a+'-id="'+d+'" data-template-id="'+b.template_id+'"></div><div title="Load mobile template from TagDiv Cloud Library" class="'+a+"id-"+b.template_id+' tdb-template-el-mobile-btn tdb-template-el-mobile-import tdb-load-mobile-template"></div></div></div>';n+=l+"</div>"}),"undefined"!==typeof g&&!0===g&&(m+='<div class="tdb-template-el tdb-'+a+"-template-el "+(p?"":"tdb-current")+'"><div class="tdb-template-el-id tdb-'+a+'-template-id"></div><div class="tdb-template-el-title" data-type="'+
a+'" data-action="'+c+'" title="Set as Global Template" data-'+a+'-id="'+d+'" data-template-id="">Global Template</div></div>'),b.append(m+l+n)):(b.append(l),b.append('<div class="tdb-templates-desc">No cloud templates. Please import one or more templates from <b>Cloud Library</b>.</div>'));b.data("tdb-templates",!0);"undefined"!==typeof k&&k.call()},error:function(a,b,d){}}))}function c(a,d,c){var b=jQuery(window);b.resize(function(){var e=b.width();a.offset().left+d.width()>e?d.hasClass(c)||d.addClass(c):
d.hasClass(c)&&d.removeClass(c)});b.resize()}jQuery(document).ready(function(){jQuery("#wp-admin-bar-tdb_template_builder_disabled a").click(function(a){a.preventDefault();alert("Please select tagDiv Builder Template from the theme panel or set a default template. The current page/post uses a template that is not editable.")});jQuery("#wp-admin-bar-new-tdb_templates").hide()});jQuery("body").on("click","#wp-admin-bar-tdb_template_load, .tdb-load-mobile-template",function(a){a.preventDefault();var b=
jQuery(this),c=b.attr("class");a="";var g=!1;b.hasClass("tdb-load-mobile-template")&&(g=!0);"undefined"!==typeof c&&(0===c.indexOf("singleid-")?(a={wp_type:"single",templateType:"Single"},b=c.split(" ")[0].replace("singleid-",""),g?a.assign_mobile_to_template=b:a.assign_to_post=b):0===c.indexOf("categoryid-")?(a={wp_type:"category",templateType:"Category"},b=c.split(" ")[0].replace("categoryid-",""),g?a.assign_mobile_to_template=b:a.assign_to_category=b):0===c.indexOf("404")?(a={wp_type:"404",templateType:"404"},
b=btoa(window.location.href),g?a.assign_mobile_to_template=b:a.assign_to_404=b):0===c.indexOf("date")?(a={wp_type:"date",templateType:"Date"},b=btoa(window.location.href),g?a.assign_mobile_to_template=b:a.assign_to_archive=b):0===c.indexOf("search")?(a={wp_type:"search",templateType:"Search"},b=btoa(window.location.href),g?a.assign_mobile_to_template=b:a.assign_to_search=b):0===c.indexOf("attachment")?(a={wp_type:"attachment",templateType:"Attachment"},b=btoa(window.location.href),g?a.assign_mobile_to_template=
b:a.assign_to_attachment=b):0===c.indexOf("authorid")?(a={wp_type:"author",templateType:"Author"},b=c.split(" ")[0].replace("authorid-",""),g?a.assign_mobile_to_template=b:a.assign_to_author=b):0===c.indexOf("tagid")?(a={wp_type:"tag",templateType:"Tag"},b=c.split(" ")[0].replace("tagid-",""),g?a.assign_mobile_to_template=b:a.assign_to_tag=b):0===c.indexOf("pageid")?(a={wp_type:"page",templateType:"Pages"},b=c.split(" ")[0].replace("pageid-",""),g&&(a.assign_mobile_to_template=b)):0===c.indexOf("woo_productid-")?
(a={wp_type:"woo_product",templateType:"Woo Product"},b=c.split(" ")[0].replace("woo_productid-",""),g?a.assign_mobile_to_template=b:a.assign_to_woo_product=b):0===c.indexOf("woo_archive")?(a={wp_type:"woo_archive",templateType:"Woo Archive"},b=btoa(window.location.href),g?a.assign_mobile_to_template=b:a.assign_to_search=b):0===c.indexOf("woo_search_archive")?(a={wp_type:"woo_search_archive",templateType:"Woo Search"},b=btoa(window.location.href),g?a.assign_mobile_to_template=b:a.assign_to_search=
b):0===c.indexOf("woo_shop_base")?(a={wp_type:"woo_shop_base",templateType:"Woo Shop Base"},b=btoa(window.location.href),g?a.assign_mobile_to_template=b:a.assign_to_search=b):0===c.indexOf("cpt_tax")?(a={wp_type:"cpt_tax",templateType:"Custom Taxonomy"},b=c.split(" ")[0].replace("templateid-",""),g?a.assign_mobile_to_template=b:a.assign_to_cpt_tax=b):0===c.indexOf("cpt")&&(a={wp_type:"cpt",templateType:"Custom Post Type"},b=c.split(" ")[0].replace("cptid-",""),g?a.assign_mobile_to_template=b:a.assign_to_cpt=
b),""!==a&&(a.hide_mobile_selector="hide",window.tdbVue.router.push({name:"loadRoute",params:a})))}).on("click",".tdb-create-mobile-template",function(a){var b=jQuery(this),c=b.data("template-id"),g=b.data("type");tdConfirm.modal({caption:"Create Mobile "+("page"===g?"Page":"Template"),objectContext:window,callbackYes:function(){var a=jQuery("#tdb-new-template-name"),d=jQuery("#tdb-copy-content");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_create_mobile_template",template_id:c,template_title:a.val(),
template_type:g,copyContent:d.is(":checked")?"1":"0",_nonce:window.tdb_globals.wpRestNonce},success:function(a,d,e){a=jQuery.parseJSON(a);"undefined"!==typeof a.mobile_template_id&&(tdConfirm.close(),d=b.closest(".tdb-template-el"),d.length&&(e=d.find(".tdb-template-el-mobile:first"),d.find(".tdb-template-el-mobile-btns:first").data("mobile-template-id",a.mobile_template_id),e.html('<span class="tdb-template-el-mobile-active">Yes</span>')),tdbGetMobileTemplates(g,c))},error:function(a,b,d){}})},htmlInfoContent:"Enter the mobile "+
("page"===g?"page":"template")+' name: <input id="tdb-new-template-name" type="text" value=""onfocus="(function(e){ jQuery( e.target ).siblings(\'#tdb-modal-notice\').fadeOut(50); })(event)"/><em id="tdb-modal-notice"></em><div class="tdb-form-check"><input type="checkbox" class="form-check-input" id="tdb-copy-content"><label class="form-check-label" for="tdb-copy-content"><span class="tdb-check"></span><span class="tdb-check-title">Copy content</span></label></div>',textYes:"Create",textNo:"Cancel"})}).on("click",
"#wp-admin-bar-tdb_template_single > a, #wp-admin-bar-tdb_template_category > a, #wp-admin-bar-tdb_template_404 > a, #wp-admin-bar-tdb_template_date > a, #wp-admin-bar-tdb_template_search > a, #wp-admin-bar-tdb_template_attachment > a, #wp-admin-bar-tdb_template_author > a, #wp-admin-bar-tdb_template_tag > a, #wp-admin-bar-tdb_template_woo_product > a, #wp-admin-bar-tdb_template_woo_archive > a, #wp-admin-bar-tdb_template_woo_shop_base > a, #wp-admin-bar-tdb_template_woo_search_archive > a, #wp-admin-bar-tdb_template_cpt > a, #wp-admin-bar-tdb_template_cpt_tax > a",
function(b){b.preventDefault();var d=jQuery(this),e=d.parent(),g=e.attr("class"),f="",l="",k="",m="";switch(e.attr("id")){case "wp-admin-bar-tdb_template_single":f="single";l="tdb_assign_single_template_to_post";k="tdb_assign_single_template_global";m=g.replace(f+"id-","");break;case "wp-admin-bar-tdb_template_category":f="category";l="tdb_assign_cat_template_to_cat";k="tdb_assign_cat_template_global";m=g.replace(f+"id-","");break;case "wp-admin-bar-tdb_template_404":f="404";l="tdb_assign_404_template_global";
k="";m=g.replace("templateid-","");break;case "wp-admin-bar-tdb_template_date":f="date";l="tdb_assign_date_template_global";k="";m=g.replace("templateid-","");break;case "wp-admin-bar-tdb_template_search":f="search";l="tdb_assign_search_template_global";k="";m=g.replace("templateid-","");break;case "wp-admin-bar-tdb_template_attachment":f="attachment";l="tdb_assign_attachment_template_global";k="";m=g.replace("templateid-","");break;case "wp-admin-bar-tdb_template_author":f="author";l="tdb_assign_author_template_to_author";
k="tdb_assign_author_template_global";m=g.replace(f+"id-","");break;case "wp-admin-bar-tdb_template_tag":f="tag";l="tdb_assign_tag_template_to_tag";k="tdb_assign_tag_template_global";m=g.replace(f+"id-","");break;case "wp-admin-bar-tdb_template_woo_product":f="woo_product";l="tdb_assign_woo_product_template_to_product";k="tdb_assign_woo_product_template_global";m=g.replace(f+"id-","");break;case "wp-admin-bar-tdb_template_woo_archive":f="woo_archive";l="tdb_assign_woo_archive_template_to_tax";k="tdb_assign_woo_archive_template_global";
m=g.replace(f+"id-","");break;case "wp-admin-bar-tdb_template_woo_search_archive":f="woo_search_archive";l="tdb_assign_woo_search_archive_template_global";k="";m=g.replace("templateid-","");break;case "wp-admin-bar-tdb_template_woo_shop_base":f="woo_shop_base";l="tdb_assign_woo_shop_base_template_global";k="";m=g.replace("templateid-","");break;case "wp-admin-bar-tdb_template_cpt":f="cpt";l="tdb_assign_cpt_template_to_cpt";k="tdb_assign_cpt_template_global";m=g.replace(f+"id-","");break;case "wp-admin-bar-tdb_template_cpt_tax":f=
"cpt_tax",l="tdb_assign_cpt_tax_template_to_tax",k="tdb_assign_cpt_tax_template_global",m=g.replace("templateid-","")}var n=jQuery(".tdb-"+f+"-templates");n.length?b.currentTarget===this&&jQuery(b.target).parent().attr("id")==="wp-admin-bar-tdb_template_"+f&&(n.toggle(),d.toggleClass("tdb-templates-open"),d.toggleClass("tdb-templates-close")):(d.addClass("tdb-templates-loading"),n=jQuery('<div class="tdb-templates tdb-'+f+'-templates" data-type="'+f+'"></div>'),n.insertAfter(d),n.show());a(f,m,l,
""===k?!1:!0,k,void 0,function(){d.removeClass("tdb-templates-loading");d.addClass("tdb-templates-open");c(d,n,"tdb-templates-align-right")})}).on("click","#wp-admin-bar-tdc_page_mobile_template > a",function(a){a.preventDefault();var b=jQuery(this);a=b.parent().attr("class").replace("pageid-","");var e=jQuery("#tdb-mobile-templates");e.length?(e.toggle(),b.toggleClass("tdb-templates-open"),b.toggleClass("tdb-templates-close")):(b.addClass("tdb-templates-loading"),b.addClass("tdb-templates-open"),
tdbGetMobileTemplates("page",a,b,void 0,function(){b.removeClass("tdb-templates-loading");jQuery("#tdb-mobile-templates").show();c(b,jQuery("#tdb-mobile-templates"),"tdb-mobile-templates-align-right")}))}).on("click","#wp-admin-bar-tdc_create_mobile_page",function(a){var b=jQuery(this).attr("class").split(" ")[0].replace("pageid-","");tdConfirm.modal({caption:"Create Mobile Page",objectContext:window,callbackYes:function(){var a=jQuery("#tdb-new-template-name"),d=jQuery("#tdb-copy-content");jQuery.ajax({type:"POST",
url:td_ajax_url,data:{action:"tdb_create_mobile_template",template_id:b,template_title:a.val(),template_type:"page",copyContent:d.is(":checked")?"1":"0",_nonce:window.tdb_globals.wpRestNonce},success:function(d,c,e){"undefined"!==typeof jQuery.parseJSON(d).mobile_template_id&&(tdConfirm.close(),d=jQuery("#wp-admin-bar-tdc_page_mobile_template"),d.length&&d.find("a:first").html('<span class="td-mob-page-before">Mobile page</span>'+a.val()),tdbGetMobileTemplates("page",b))},error:function(a,b,d){}})},
htmlInfoContent:'Enter the mobile page name: <input id="tdb-new-template-name" type="text" value="" onfocus="(function(e){ jQuery( e.target ).siblings(\'#tdb-modal-notice\').fadeOut(50); })(event)"/><em id="tdb-modal-notice"></em><div class="tdb-form-check"><input type="checkbox" class="form-check-input" id="tdb-copy-content"><label class="form-check-label" for="tdb-copy-content"><span class="tdb-check"></span><span class="tdb-check-title">Copy content</span></label></div>',textYes:"Create",textNo:"Cancel"})}).on("click",
".tdb-single-template-global label, .tdb-category-template-global label, .tdb-author-template-global label, .tdb-tag-template-global label, .tdb-woo_product-template-global label, .tdb-woo_archive-template-global label, .tdb-cpt-template-global label, .tdb-cpt_tax-template-global label ",function(a){a.preventDefault();var b=jQuery(this);a=b.closest(".tdb-template-el-global");var c=a.data("type"),g=a.data("global-action"),f=b.parent().data(c+"-id"),l=b.parent().data("template-id"),k=jQuery(".tdb-templates");
b={action:g,template_id:l,_nonce:window.tdb_globals.wpRestNonce};switch(c){case "single":b.single_id=f;break;case "category":b.category_id=f;break;case "tag":b.tag_id=f;break;case "author":b.author_id=f;break;case "woo_product":b.woo_product_id=f;break;case "woo_archive":b.woo_term_id=f;break;case "cpt":b.cpt_id=f;b.option="single_tpl";break;case "cpt_tax":void 0!==a.data("cpt")?(b.action="tdb_assign_cpt_template_global",b.cpt=f,b.option="archive_tpl"):b.cpt_tax_id=f}jQuery.ajax({type:"POST",url:td_ajax_url,
data:b,success:function(a,b,d){a=jQuery.parseJSON(a);"undefined"!==typeof a.reload&&window.location.reload();"undefined"!==typeof a.global_template_id&&(k.find(".tdb-"+c+'-template-global > input[type="checkbox"]').removeAttr("checked"),k.find(".tdb-"+c+'-template-global[data-template-id="'+l+'"] > input[type="checkbox"]').attr("checked",!0))},error:function(a,b,d){}});return!1}).on("click",".tdb-template-el-title",function(a){a.preventDefault();if(a.target===a.currentTarget){a=jQuery(this);var b=
a.data("action"),c=a.data("type"),g=a.data(c+"-id"),f=a.data("template-id");b={action:b,template_id:f,_nonce:window.tdb_globals.wpRestNonce};"cpt"===c?b.cpt=a.data("cpt-id"):"cpt_tax"===c&&(b.cpt_tax=a.data("cpt_tax-id"));switch(c){case "single":b.single_id=g;break;case "category":b.category_id=g;break;case "author":b.author_id=g;break;case "tag":b.tag_id=g;break;case "woo_product":b.woo_product_id=g;break;case "woo_archive":b.woo_term_id=g;break;case "cpt":b.cpt_id=g;break;case "cpt_tax":void 0!==
a.data("cpt")?(b.action="tdb_assign_cpt_template_global",b.cpt=g,b.option="archive_tpl"):b.cpt_tax_id=g;break;case "search":void 0!==a.data("cpt")&&(b.action="tdb_assign_cpt_template_global",b.cpt=g,b.option="search_tpl")}jQuery.ajax({type:"POST",url:td_ajax_url,data:b,success:function(a,b,d){"undefined"===typeof jQuery.parseJSON(a).reload&&"cpt"!==c&&"cpt_tax"!==c&&"search"!==c||window.location.reload()},error:function(a,b,d){}});return!1}}).on("change",".tdb-template-el-title-input",function(a){a.preventDefault();
a=jQuery(this);var b=a.closest(".tdb-templates"),c=a.closest(".tdb-template-el"),g=c.find(".tdb-template-el-title:first");b.data("type");b=c.data("template-id");g.html();jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_change_template_name",template_id:b,template_title:a.val(),_nonce:window.tdb_globals.wpRestNonce},success:function(a,b,c){a=jQuery.parseJSON(a);"undefined"!==typeof a.template_id&&(g.html(a.template_title),g.removeData("title"))},error:function(a,b,c){}})}).on("click",".tdb-template-el-edit",
function(a){a.preventDefault();var b=jQuery(this);a=b.closest(".tdb-templates");var c=b.closest(".tdb-template-el");b=c.find(".tdb-template-el-title:first");a.data("type");c.data("template-id");c=b.html();"undefined"===typeof b.data("title")&&(a.find(".tdb-template-el-title").each(function(a,b){a=jQuery(b);b=a.data("title");"undefined"!==typeof b&&(a.html(b),a.removeData("title"))}),b.data("title",b.html()),b.html('<input class="tdb-template-el-title-input" type="text" value="'+c+'">'),b.find("input").focus().select())}).on("click",
".tdb-template-el-duplicate",function(b){b.preventDefault();b=jQuery(this);var c=b.closest(".tdb-templates"),e=b.closest(".tdb-template-el"),g=e.find(".tdb-template-el-title:first"),f=c.data("type");b=e.data("template-id");var l=g.html(),k=g.data(f+"-id"),m=g.data("action"),n="";0<="single category tag author woo_product woo_archive".split(" ").indexOf(f)&&(e=e.find(".tdb-template-el-global:first"),e.length&&(n=e.data("global-action")));tdbApi.run({wpNonce:window.tdb_globals.wpRestNonce,cloudEndPoint:"td-cloud-library/new_template",
post:{postId:b,templateType:f,templateName:l,duplicateTemplate:!0},done:function(b){c.removeData("tdb-templates");a(f,0<="single category tag author woo_product woo_archive cpt".split(" ").indexOf(f)?k:"",m,""===n?!1:!0,n)},error:function(a){console.log("td-cloud-library/new_template ( duplicate template ) - ERROR",a)}});jQuery(".tdb-template-el-title-input").trigger("change")}).on("keyup",".tdb-template-el-title-input",function(a){27===a.keyCode&&jQuery(this).trigger("change")}).on("click",".tdb-template-el-delete",
function(a){a=jQuery(this);a.closest(".tdb-templates");var b=a.closest(".tdb-template-el");a=b.data("template-id");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_delete_template",template_id:a,_nonce:window.tdb_globals.wpRestNonce},success:function(a,c,d){a=jQuery.parseJSON(a);"undefined"!==typeof a.reload&&window.location.reload();"undefined"!==typeof a.template_id&&b.remove()},error:function(a,b,c){}});jQuery(".tdb-template-el-title-input").trigger("change")}).on("click",function(a){a=
jQuery(a.target);a.closest("#wp-admin-bar-tdb_template_single").length||a.closest("#wp-admin-bar-tdb_template_category").length||a.closest("#wp-admin-bar-tdb_template_404").length||a.closest("#wp-admin-bar-tdb_template_date").length||a.closest("#wp-admin-bar-tdb_template_search").length||a.closest("#wp-admin-bar-tdb_template_attachment").length||a.closest("#wp-admin-bar-tdb_template_author").length||a.closest("#wp-admin-bar-tdb_template_tag").length||a.closest("#wp-admin-bar-tdb_template_woo_product").length||
a.closest("#wp-admin-bar-tdb_template_woo_archive").length||a.closest("#wp-admin-bar-tdb_template_woo_search_archive").length||a.closest("#wp-admin-bar-tdb_template_woo_shop_base").length||a.closest("#wp-admin-bar-tdb_template_cpt").length||a.closest("#wp-admin-bar-tdb_template_cpt_tax").length||a.closest("#wp-admin-bar-tdc_page_mobile_template").length||(a=jQuery(".tdb-templates"),a.length&&(a.hide(),a.prev("a").removeClass("tdb-templates-open").addClass("tdb-templates-close"),jQuery(".tdb-template-el-title-input").trigger("change")),
a=jQuery("#tdb-mobile-templates"),a.length&&(a.hide(),a.prev("a").removeClass("tdb-templates-open").addClass("tdb-templates-close")))}).on("click","#tdb-mobile-templates .tdb-template-el-mobile-list-el",function(a){var b=jQuery(this),c=jQuery("#tdb-mobile-templates");a=b.data("template-id");var g=b.data("mobile-template-id"),f=c.closest(".tdb-template-el-mobile-btns"),l=b.closest(".tdb-template-el-mobile-wrap"),k=b.closest("#wp-admin-bar-tdc_page_mobile_template");jQuery.ajax({type:"POST",url:td_ajax_url,
data:{action:"tdb_set_mobile_template",template_id:a,mobile_template_id:g,_nonce:window.tdb_globals.wpRestNonce},success:function(a,d,e){a=jQuery.parseJSON(a);_.isObject(a)&&!_.isUndefined(a.result)&&1===a.result&&(f.data("mobile-template-id",g),c.find(".tdb-template-el-mobile-list-el").removeClass("tdb-current"),c.find('.tdb-template-el-mobile-list-el[data-mobile-template-id="'+g+'"]').addClass("tdb-current"),l.length&&(a=l.find(".tdb-template-el-mobile:first"),""===g?a.html("-"):a.html('<span class="tdb-template-el-mobile-active">Yes</span>')),
k.length&&(k.find("a:first").html('<span class="td-mob-page-before" style="margin-right:10px;">Mobile page</span>'+b.find(".tdb-template-el-mobile-list-title:first").html()),"No mobile page"===b.find(".tdb-template-el-mobile-list-title:first").html()&&k.find("a:first").html('<span class="td-mob-page-before">Mobile page</span>')))}})}).on("click","#tdb-mobile-templates .tdb-template-el-mobile-list-edit",function(a){a.stopPropagation()}).on("click","#tdb-mobile-templates .tdb-template-el-mobile-list-delete",
function(a){a.stopPropagation();a=jQuery(this);var b=a.data("type"),c=a.closest(".tdb-template-el-mobile-list-el"),g=c.data("template-id");a=c.data("mobile-template-id");var f=c.hasClass("tdb-current"),l=jQuery("#tdb-mobile-templates").closest(".tdb-template-el");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_delete_template",template_id:a,_nonce:window.tdb_globals.wpRestNonce},success:function(a,d,e){"undefined"!==typeof jQuery.parseJSON(a).template_id&&tdbGetMobileTemplates(b,g,void 0,
function(){jQuery("#tdb-mobile-templates").addClass("loading")},function(){jQuery("#tdb-mobile-templates").removeClass("loading");if(f)if("page"===b){var a=jQuery("#wp-admin-bar-tdc_page_mobile_template");a.length&&a.find("a:first").html('<span class="td-mob-page-before">Mobile page</span>No mobile page')}else c.remove(),l.length&&l.find(".tdb-template-el-mobile:first").html("-")})},error:function(a,b,c){}})}).on("mouseenter",".tdb-template-el-mobile-btns",function(a){a=jQuery(this);var b=a.data("mobile-template-id"),
c=a.data("template-id"),g=jQuery("#tdb-mobile-templates");g.find(".tdb-template-el-mobile-list-inner").is(":empty")||(g.appendTo(a).show(),g.find(".tdb-template-el-mobile-list-el").removeClass("tdb-current"),g.find(".tdb-template-el-mobile-list-el").data("template-id",c),g.find('.tdb-template-el-mobile-list-el[data-mobile-template-id="'+b+'"]').addClass("tdb-current"))}).on("mouseleave",".tdb-template-el-mobile-btns",function(a){a=jQuery(".tdb-templates");var b=jQuery("#tdb-mobile-templates");b.hide();
b.insertBefore(a);b.find(".tdb-template-el-mobile-list-el").removeClass("tdb-current")});jQuery(".tdb-templates");window.tdbGetMobileTemplates=function(a,c,e,g,f,l,k){var b=jQuery("#tdb-mobile-templates",l);b.length||(b=jQuery('<div id="tdb-mobile-templates" class="tdb-template-el-mobile-list"><div class="tdb-template-el-mobile-list-inner"></div><div class="tdb-template-el-mobile-list-separator" style="height: 1px;width: 100%;background-color: #ebebeb;margin: 10px 0;"></div><a href="https://tagdiv.com/newspaper-10-3-7-update-brings-customizable-and-fast-mobile-pages/" target="_blank" style="height: auto;padding: 0;color: #1a9a75;" class="tdb-template-el-mobile-list-no-el">Documentation &#187;</a></div>'),
b.hide());"undefined"!==typeof e&&b.insertAfter(e);e={action:"tdb_get_"+a+"_mobile_templates",_nonce:window.tdb_globals.wpRestNonce};e[a+"_id"]=c;"undefined"!==typeof g&&g.call();jQuery.ajax({type:"POST",url:td_ajax_url,data:e,success:function(d,e,g){var l="";g=jQuery.parseJSON(d);d='<li id="wp-admin-bar-tdb_template_load" class="pageid-'+c+' tdb-load-mobile-template tdb-template-el-mobile-list-el"><div class="ab-item ab-empty-item" title="Optional - Load mobile page from TagDiv Cloud Library"></div><span class="tdb-template-el-mobile-list-title">Load mobile page from Cloud Library</span></li><li id="wp-admin-bar-tdc_create_mobile_page" class="pageid-'+
c+' tdb-template-el-mobile-list-el"><div class="ab-item ab-empty-item" title="Optional - Create blank mobile page"></div><span class="tdb-template-el-mobile-list-title">Create blank mobile page</span></li>';if(_.isArray(g)&&g.length){var m=!1,n="template";e="";"page"===a&&(n="page",e=d);_.each(g,function(b,d,e){d="";_.isUndefined(b.is_current)||(d="tdb-current",m=!0);l+='<div class="tdb-template-el-mobile-list-el '+d+'" data-mobile-template-id="'+b.template_id+'" data-template-id="'+c+'"><div class="tdb-template-el-mobile-list-title" title="'+
b.template_title+'">'+b.template_title+'</div><a class="tdb-template-el-mobile-list-edit" title="Edit mobile '+n+' with Composer" href="'+b.template_url+'" target="_blank"></a><div class="tdb-template-el-mobile-list-delete" title="Delete mobile '+n+'" data-type="'+a+'"></div></div>'});""!==l&&(g="",m||(g="tdb-current",m=!0),l=e+'<div class="tdb-template-el-mobile-list-separator" style="height: 1px;width: 100%;background-color: #ebebeb;margin: 10px 0;"></div><div class="tdb-template-el-mobile-list-el '+
g+'" data-mobile-template-id="" data-template-id="'+c+'"><div class="tdb-template-el-mobile-list-title">No mobile '+n+"</div></div>"+l);""!==l&&(b.html('<div class="tdb-template-el-mobile-list-inner">'+l+'</div><div class="tdb-template-el-mobile-list-separator" style="height: 1px;width: 100%;background-color: #ebebeb;margin: 10px 0;"></div><a href="https://tagdiv.com/newspaper-10-3-7-update-brings-customizable-and-fast-mobile-pages/" target="_blank" style="height: auto;padding: 0;color: #1a9a75;" class="tdb-template-el-mobile-list-no-el">Documentation &#187;</a>'),
e=b.parent(".tdb-template-el-mobile-btns"),!_.isUndefined(k)&&e.length&&(b.find(".tdb-template-el-mobile-list-el").removeClass("tdb-current"),b.find(".tdb-template-el-mobile-list-el").data("template-id",c),b.find('.tdb-template-el-mobile-list-el[data-mobile-template-id="'+k+'"]').addClass("tdb-current")),b.is(":visible")&&e.length?b.show():b.hide())}""===l&&("page"===a?b.html(d+'<div class="tdb-template-el-mobile-list-separator" style="height: 1px;width: 100%;background-color: #ebebeb;margin: 10px 0;"></div><div class="tdb-template-el-mobile-list-inner"><div class="tdb-template-el-mobile-list-no-el">No mobile page, please import or create a new mobile page.</div><div class="tdb-template-el-mobile-list-separator" style="height: 1px;width: 100%;background-color: #ebebeb;margin: 10px 0;"></div><a href="https://tagdiv.com/newspaper-10-3-7-update-brings-customizable-and-fast-mobile-pages/" target="_blank" style="height: auto;padding: 0;color: #1a9a75;" class="tdb-template-el-mobile-list-no-el">Documentation &#187;</a></div>'):
b.html(""));"undefined"!==typeof f&&f.call()}})}})();
jQuery(window).on("load",function(){var a=!1;window.parent===window.top&&"undefined"!==typeof window.name&&"tdc-live-iframe"===window.name&&"undefined"!==typeof window.parent.tdcSidebar&&(a=!0);if(window.self===window.top||a)jQuery(".tdb_single_reading_progress").each(function(){var c=jQuery(this),b=c.data("td-block-uid");c=c.data("bar-position");var d=new tdReadingProgressBar.item;d.blockUid=b;d.barPosition=c;tdReadingProgressBar.addItem(d);a&&tdReadingProgressBar.createFixedBar(d,0,30)}),a||tdReadingProgressBar.calculateBarsFill()});
var tdbMenu={};
(function(){tdbMenu={ui_events:"mouseover click keydown wheel touchmove touchstart".split(" "),items:[],item:function(){this.blockUid="";this._outsideClickArea=this._mainMenu=this._itemsWithSubmenu=null;this._outsideClickExcludedAreas="";this._openMenuClass="tdb-hover";this._openMenuBodyClass="tdb-open-menu";this.isMegaMenuParentPos=this.isMegaMenuFull=this.inComposer=!1;this.megaMenuLoadType="";this._is_initialized=!1},init:function(){tdbMenu.items=[]},_initialize_item:function(a){if(!0!==a._is_initialized){tdbMenu._setHover(a);
var c=0<jQuery("."+a.blockUid).parents(".td-header-template-wrap").length,b=a.jqueryObj.find(".tdb-menu .tdb-mega-menu .sub-menu"),d=a.jqueryObj.find(".tdb-menu .tdb-mega-menu-page .sub-menu");0<b.length&&(window.tdb_p_autoload_vars.isAjax?c||(a.isMegaMenuFull&&tdbMenu.megaMenuFull(a,a.inComposer),a.isMegaMenuParentPos&&tdbMenu.megaMenuParentPos(a,a.inComposer)):(a.isMegaMenuFull&&tdbMenu.megaMenuFull(a,a.inComposer),a.isMegaMenuParentPos&&tdbMenu.megaMenuParentPos(a,a.inComposer)));if(0<d.length&&
!a.inComposer&&"ui_delayed"===a.megaMenuLoadType)a.jqueryObj.on("ui_delayed_load",function(){tdbMenu.loadDelayedPageMM(a)});0<d.length&&0<jQuery("."+a.blockUid).parents(".tdc-row-is-sticky").length&&(window.tdb_p_autoload_vars.isAjax?c||tdbMenu.pageMegaMenuHeight(a,a.inComposer):tdbMenu.pageMegaMenuHeight(a,a.inComposer));a._is_initialized=!0}},loadDelayed:function(a){for(a=0;a<tdbMenu.items.length;a++){var c=tdbMenu.items[a];"ui_delayed"!==c.megaMenuLoadType||c.inComposer||c.jqueryObj.trigger("ui_delayed_load")}tdbMenu.ui_events.forEach(function(a){window.removeEventListener(a,
tdbMenu.loadDelayed,{passive:!0})})},loadDelayedPageMM:function(a){a.jqueryObj.find(".tdb-menu .tdb-mega-menu-page").each(function(){var a=jQuery(this).find("li.menu-item-0"),b=a.find(".tdb-menu-item-text"),d=a.data("p-mm-id");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_get_mm_page",pageId:d,td_res_context_registered_atts:td_res_context_registered_atts},success:function(a,c,d){a=jQuery.parseJSON(a);"undefined"!==typeof a.content&&(jQuery(a.content).appendTo(b),"undefined"!==typeof window.tdAnimationStack&&
!0===window.tdAnimationStack.activated&&window.tdAnimationStack.reinit())},error:function(a,b,c){console.group("%c tdbMenu.loadDelayedPageMM/tdb_get_mm_page: error","color: orangered;");console.log("Post: ",{pageId:d});console.log("errorThrown: ",c);console.groupEnd()}})})},addItem:function(a){if("undefined"===typeof a.blockUid)throw"item.blockUid is not defined";tdbMenu.items.push(a);tdbMenu._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbMenu.items.length;c++)if(tdbMenu.items[c].blockUid===
a)return tdbMenu.items.splice(c,1),!0;return!1},megaMenuFull:function(a,c){function b(){l=d.find(".tdb-menu .tdb-mega-menu .sub-menu");l.each(function(){f=-e.left+"px";jQuery(this).attr("style","left:"+f+"; width: "+jQuery("body").outerWidth()+"px !important")});k||(d.find(".tdb-mega-menu-inactive").removeClass("tdb-mega-menu-inactive"),k=!0)}var d=a.jqueryObj,e,g,f,l,k=!1;jQuery(window).resize(function(){setTimeout(function(){e=d.offset();g=e.left;b();c&&setInterval(function(){e=d.offset();e.left!==
g&&(b(),g=e.left)},1E3)},1500)});jQuery(window).resize()},megaMenuParentPos:function(a,c){function b(){f=d.find(".tdb-menu .tdb-mega-menu > ul");f.show();f.each(function(){jQuery(this).css("left","");l=jQuery(this).offset();k=l.left;0>k?jQuery(this).offset({left:0}):(m=jQuery(window).width()-(k+jQuery(this).outerWidth()),0>m&&jQuery(this).offset({left:jQuery(window).width()-jQuery(this).outerWidth()}))});n||(d.find(".tdb-mega-menu-inactive").removeClass("tdb-mega-menu-inactive"),n=!0);f.hide()}var d=
a.jqueryObj,e,g,f,l,k,m,n=!1;setTimeout(function(){jQuery(window).resize(function(){e=d.offset();g=e.left;b();c&&setInterval(function(){e=d.offset();e.left!==g&&(b(),g=e.left)},1E3)});jQuery(window).resize()},60)},pageMegaMenuHeight:function(a,c){function b(){g.show();g.each(function(){var a=jQuery(this),b=a.find("> li"),c=e.offset().top+e.outerHeight();b=b.outerHeight();var g=d.scrollTop(),n=d.height();c+b>n+g?a.css({height:n+g-c,"overflow-y":"auto"}):a.css({height:"auto","overflow-y":"visible"})});
g.hide()}var d=jQuery(window),e=a.jqueryObj,g=e.find(".tdb-menu .tdb-mega-menu-page > ul");setTimeout(function(){d.on("resize scroll",function(){b();c&&setInterval(function(){b()},1E3)});d.resize().scroll()},1500)},_getSubmenuPosition:function(a){var c=jQuery(window).width();a=a.children(".sub-menu").first();if(0<a.length){var b=a.offset().left+a.width();b>c&&(a.parent().parent().hasClass("tdb-menu")?a.css("left","-"+(b-c)+"px"):a.addClass("reversed").css("left","-"+(a.width()+0)+"px"))}},_getMouseAngleDirection:function(a,
c,b,d){return Math.atan2(b-a,d-c)/Math.PI*180},_setHover:function(a){var c=a.jqueryObj.find(".tdb-menu");c.supersubs({minWidth:10,maxWidth:20,extraWidth:1,applyMin:!0});var b=c.find(".menu-item-has-children > a, .tdb-mega-menu > a");b.parent().find(".sub-menu").first().css("display","none");if(tdDetect.isTouchDevice)jQuery(document).on("touchstart","body",function(c){var d=b.parent(),e=jQuery("body");e.hasClass(a._openMenuBodyClass)&&!d.is(c.target)&&0===d.has(c.target).length&&(d.removeClass(a._openMenuClass),
d.children(".sub-menu").hide(),e.removeClass(a._openMenuBodyClass))}),b.on("touchstart",function(c){c.preventDefault();c.stopPropagation();var d=jQuery(this);c=d.parent();var e=jQuery("body");c.hasClass(a._openMenuClass)?null!==d.attr("href")&&"#"!==d.attr("href")?window.location.href=d.attr("href"):((c.parent().hasClass("tdb-menu")||c.parent().hasClass("top-header-menu"))&&e.removeClass(a._openMenuBodyClass),c.removeClass(a._openMenuClass),c.find(".sub-menu").hide(),c.find("li").removeClass(a._openMenuClass)):
(c.parent().hasClass("tdb-menu")||c.parent().hasClass("top-header-menu")?(b.parent().removeClass(a._openMenuClass),b.parent().children(".sub-menu").hide()):(d=c.siblings(),d.removeClass(a._openMenuClass),d.find(".sub-menu").hide(),d.find("li").removeClass(a._openMenuClass)),c.addClass(a._openMenuClass),c.children(".sub-menu").show(),tdbMenu._getSubmenuPosition(c),e.addClass(a._openMenuBodyClass))});else{var d={},e,g=!0;c.on("mouseleave",function(){b.parent().removeClass(a._openMenuClass);b.parent().children(".sub-menu").hide();
d={}});c.find(".menu-item").hover(function(){var c=jQuery(this),l="",k,m;if(c.hasClass("menu-item-has-children")||c.hasClass("tdb-mega-menu"))if(c.parent().hasClass("tdb-menu"))if(jQuery.isEmptyObject(d))c.addClass(a._openMenuClass),c.children(".sub-menu").show(),d=c;else{if(c[0]!==d[0]){var n=m=k=0;var p=null;!0===g&&(g=!1,e=setTimeout(function(){b.parent().removeClass(a._openMenuClass);b.parent().children(".sub-menu").hide();c.addClass(a._openMenuClass);c.children(".sub-menu").show();d=c},400));
c.on("mousemove",function(f){5<=k?(k=0,p=tdbMenu._getMouseAngleDirection(m,n,f.pageX,f.pageY),m=f.pageX,n=f.pageY):(k++,0===m&&0===n&&(m=f.pageX,n=f.pageY));null!==p&&(85<p||-85>p)&&(b.parent().removeClass(a._openMenuClass),b.parent().children(".sub-menu").hide(),c.addClass(a._openMenuClass),c.children(".sub-menu").show(),c.off("mousemove"),clearTimeout(e),g=!0,d=c)})}}else l=c.siblings(),l.removeClass(a._openMenuClass),l.find(".sub-menu").hide(),l.find("li").removeClass(a._openMenuClass),c.addClass(a._openMenuClass),
c.children(".sub-menu").show(),tdbMenu._getSubmenuPosition(c);else c.parent().hasClass("tdb-menu")?jQuery.isEmptyObject(d)||(n=m=k=0,p=null,!0===g&&(g=!1,e=setTimeout(function(){b.parent().removeClass(a._openMenuClass);b.parent().children(".sub-menu").hide();d={}},400)),c.on("mousemove",function(f){5<=k?(k=0,p=tdbMenu._getMouseAngleDirection(m,n,f.pageX,f.pageY),m=f.pageX,n=f.pageY):(k++,0===m&&0===n&&(m=f.pageX,n=f.pageY));null!==p&&(85<p||-85>p)&&(b.parent().removeClass(a._openMenuClass),b.parent().children(".sub-menu").hide(),
c.off("mousemove"),clearTimeout(e),g=!0,d={})})):(d=c.parent(),l=c.siblings(),l.removeClass(a._openMenuClass),l.find(".sub-menu").hide(),l.find("li").removeClass(a._openMenuClass))},function(){var a=jQuery(this);!1===g&&(clearTimeout(e),g=!0);a.off("mousemove")})}},unsetHover:function(a){null!==a._itemsWithSubmenu&&a._itemsWithSubmenu.off();null!==a._outsideClickArea&&a._outsideClickArea.off()}}})();var tdbMenuItemPullDown={};
(function(){tdbMenuItemPullDown={init:function(){setTimeout(function(){jQuery(".tdb-menu-items-pulldown").each(function(a,c){var b=jQuery(c),d=b.parent().attr("id");c=jQuery("."+d);var e="";"none"!==c.css("max-width")&&(e=c.css("max-width"));if(c.hasClass("tdb-menu-items-in-more")){var g=b.find(".tdb-menu:first"),f=g.parents(".tdb-menu-items-pulldown:first"),l=[];a=new tdPullDown.item;if(void 0!==c.css("display")&&"inline-block"===c.css("display")){var k=c.closest(".vc_column_container");f=k;var m=
"";m=0!==k.find(".tdc-elements").length?".tdc-elements":".wpb_wrapper";k.find(m+" > .td_block_wrap").each(function(){var a=.9*k.outerWidth(!0),b=jQuery(this).outerWidth(!0);if(jQuery(this).data("td-block-uid")!==d)if(b<a)l.push(jQuery(this));else return!1})}a.blockUid=d;a.horizontal_jquery_obj=g;a.vertical_jquery_obj=b.find(".tdb-menu-items-dropdown:first");a.horizontal_element_css_class="tdb-menu-item-button";a.horizontal_no_items_css_class="tdb-menu-items-empty";a.container_jquery_obj=f;a.horizontal_max_width=
e;a.excluded_jquery_elements=l;a.isTdbMenu=!0;b=c.find(".tdb-main-sub-icon-fake");b.length&&(a.main_sub_icon=b.html());c=c.find(".tdb-sub-icon-fake");c.length&&(a.sub_icon=c.html());tdPullDown.add_item(a)}g.parents(".tdb-menu-items-pulldown:first").hasClass("tdb-menu-items-pulldown-inactive")&&g.parents(".tdb-menu-items-pulldown:first").removeClass("tdb-menu-items-pulldown-inactive")})},50)}}})();jQuery().ready(function(){});
jQuery(document).ready(function(){tdbMenuItemPullDown.init();tdbMenu.ui_events.forEach(function(a){window.addEventListener(a,tdbMenu.loadDelayed,{passive:!0})})});var tdbSearch={};
(function(){tdbSearch={items:[],init:function(){tdbSearch.items=[]},item:function(){this.jqueryObj=this.blockAtts=this.blockUid=void 0;this._is_search_open=!1;this._is_live_search_active=!0;this._last_request_results_count=this._current_selection_index=0;this._first_down_up=!0;this._resultsLimit=void 0;this._openSearchFormClass="";this._is_initialized=this.disable_trigger=this.isSearchFormFull=this.inComposer=!1},_initialize_item:function(a){if(!0!==a._is_initialized){jQuery(document).on("click",
function(b){!0===a._is_search_open&&(a.jqueryObj.find("*").find(b.target).length||tdbSearch.hide_search_box(a))});if(!a.disable_trigger)a.jqueryObj.find(".tdb-head-search-btn").on("click",function(b){b.preventDefault();b.stopPropagation();!0===a._is_search_open?tdbSearch.hide_search_box(a):tdbSearch.show_search_box(a)});a._is_live_search_active&&!a.inComposer&&a.jqueryObj.find(".tdb-head-search-form-input").keydown(function(b){if(b.which&&39===b.which||b.keyCode&&39===b.keyCode||b.which&&37===b.which||
b.keyCode&&37===b.keyCode)tdbSearch.set_input_focus(a);else{if(b.which&&13===b.which||b.keyCode&&13===b.keyCode)return b=a.jqueryObj.find(".tdb-aj-cur-element"),0<b.length?window.location=b.find(".entry-title a").attr("href"):jQuery(this).parent().parent().submit(),!1;if(b.which&&40===b.which||b.keyCode&&40===b.keyCode)return tdbSearch.move_prompt_down(a),!1;if(b.which&&38===b.which||b.keyCode&&38===b.keyCode)return tdbSearch.move_prompt_up(a),!1;(b.which&&8===b.which||b.keyCode&&8===b.keyCode)&&
1===jQuery(this).val().length&&a.jqueryObj.find(".tdb-aj-search").empty();tdbSearch.set_input_focus(a);setTimeout(function(){tdbSearch.do_ajax_call(a)},100);return!0}});if(!a.disable_trigger){var c=0<jQuery("."+a.blockUid).parents(".td-header-template-wrap").length;window.tdb_p_autoload_vars.isAjax?c||(a.isSearchFormFull?tdbSearch.searchFormWidth(a,!0,a.inComposer):tdbSearch.searchFormWidth(a,!1,a.inComposer)):a.isSearchFormFull?tdbSearch.searchFormWidth(a,!0,a.inComposer):tdbSearch.searchFormWidth(a,
!1,a.inComposer)}a._is_initialized=!0}},addItem:function(a){if("undefined"===typeof a.blockUid)throw"item.blockUid is not defined";tdbSearch.items.push(a);tdbSearch._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbSearch.items.length;c++)if(tdbSearch.items[c].blockUid===a)return tdbSearch.items.splice(c,1),!0;return!1},searchFormWidth:function(a,c,b){function d(){l=-g.left+"px";k.attr("style",k.attr("style")+";left:"+l)}var e=a.jqueryObj,g,f,l,k=e.find(".tdb-drop-down-search");jQuery(window).resize(function(){var a=
e.offset().left;c?(k.attr("style","width: "+jQuery("body").outerWidth()+"px !important; left: -"+a+"px;"),setTimeout(function(){g=e.offset();f=g.left;d();b&&setInterval(function(){g=e.offset();g.left!==f&&(d(),f=g.left)},1E3)},500)):k.attr("style","width: "+jQuery("body").outerWidth()+"px !important;")});a.inComposer&&jQuery(window).resize()},show_search_box:function(a){a.jqueryObj.find(".tdb-drop-down-search").addClass(a._openSearchFormClass);!0!==tdDetect.isIos&&setTimeout(function(){document.querySelector("."+
a.blockUid+" .tdb-head-search-form-input").focus()},200);a._is_search_open=!0},hide_search_box:function(a){a.jqueryObj.find(".tdb-drop-down-search").removeClass(a._openSearchFormClass);a._is_search_open=!1},move_prompt_up:function(a){!0===a._first_down_up?(a._first_down_up=!1,0===a._current_selection_index?a._current_selection_index=a._last_request_results_count-1:a._current_selection_index--):0===a._current_selection_index?a._current_selection_index=a._last_request_results_count:a._current_selection_index--;
tdbSearch._repaintCurrentElement(a)},move_prompt_down:function(a){!0===a._first_down_up?a._first_down_up=!1:a._current_selection_index===a._last_request_results_count?a._current_selection_index=0:a._current_selection_index++;tdbSearch._repaintCurrentElement(a)},set_input_focus:function(a){a._current_selection_index=0;a._first_down_up=!0;a.jqueryObj.find(".tdb-search-form").fadeTo(100,1);a.jqueryObj.find(".td_module_wrap").removeClass("tdb-aj-cur-element")},remove_input_focus:function(a){0!==a._last_request_results_count&&
a.jqueryObj.find(".tdb-head-search-form-input").addClass("tdb-head-search-nofocus")},_repaintCurrentElement:function(a){a.jqueryObj.find(".td_module_wrap").removeClass("tdb-aj-cur-element");a._current_selection_index>a._last_request_results_count-1?(a.jqueryObj.find(".tdb-search-form").fadeTo(100,1),a.jqueryObj.find(".tdb-head-search-form-input").removeClass("tdb-head-search-nofocus")):(tdbSearch.remove_input_focus(a),a.jqueryObj.find(".td_module_wrap").eq(a._current_selection_index).addClass("tdb-aj-cur-element"))},
do_ajax_call:function(a){var c=a.jqueryObj.find(".tdb-head-search-form-input").val();""===c?tdbSearch.set_input_focus(a):tdLocalCache.exist("tdb-"+c)?tdbSearch.process_ajax_response(tdLocalCache.get("tdb-"+c),a):jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"td_ajax_search",module:"tdb_module_search",atts:a.blockAtts,td_string:c,limit:a._resultsLimit},success:function(b,d,e){tdLocalCache.set("tdb-"+c,b);tdbSearch.process_ajax_response(b,a)},error:function(a,c,e){window.console.log(e)}})},
process_ajax_response:function(a,c){var b=c.jqueryObj.find(".tdb-head-search-form-input").val(),d=c.jqueryObj.find(".tdb-aj-search");""===b?d.empty():(a=jQuery.parseJSON(a),a.td_search_query===b&&(c._current_selection_index=0,c._last_request_results_count=a.td_total_in_list,c._first_down_up=!0,d.html(a.td_data),"undefined"!==typeof window.tdAnimationStack&&!0===window.tdAnimationStack.activated&&(window.tdAnimationStack.check_for_new_items(".tdb-aj-search .td-animation-stack",window.tdAnimationStack.SORTED_METHOD.sort_left_to_right,
!0,!1),window.tdAnimationStack.compute_items(!1))))},hideAllItems:function(){tdbSearch.items.forEach(function(a){tdbSearch.hide_search_box(a)})}}})();jQuery().ready(function(){tdbSearch.init();setTimeout(function(){jQuery(window).resize()},500)});var tdbLocationFinder={};jQuery().ready(function(){tdbLocationFinder.init()});
(function(){tdbLocationFinder={items:[],item:function(){this.blockObj=this.uid="";this.APIService="google";this.mapMarker=this.map=void 0;this.defLong=this.defLat=0;this.defZoom=3;this.defAddress="";this.bingSearchManager=this.bingAutosuggestManager=this.errorContainer=void 0;this._is_initialized=this._in_composer=!1},init:function(){tdbLocationFinder.items=[];this._is_running=!1},_initialize_item:function(a){!0!==a._is_initialized&&(a.errorContainer=a.blockObj.find(".tdb-s-notif"),tdbLocationFinder.initMap(a),
a._in_composer||tdbLocationFinder.currentLocation(a),a._is_initialized=!0)},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbLocationFinder.items.push(a);tdbLocationFinder._initialize_item(a)},initMap:function(a){var c=document.querySelector("."+a.uid+" .tdb-lf-map"),b={lat:a.defLat,lng:a.defLong};switch(a.APIService){case "google":a.map=new google.maps.Map(c,{center:b,zoom:a.defZoom});a.mapMarker=new google.maps.Marker({position:b,map:a.map});tdbLocationFinder._locationSearchGoogle(a);
a._in_composer||""===a.defAddress||tdbLocationFinder.displayLocationByAddress(a,a.defAddress);break;case "bing":a.map=new Microsoft.Maps.Map(c,{center:new Microsoft.Maps.Location(a.defLat,a.defLong),zoom:a.defZoom,showLocateMeButton:!1}),Microsoft.Maps.loadModule(["Microsoft.Maps.AutoSuggest","Microsoft.Maps.Search"],function(){a.bingAutosuggestManager=new Microsoft.Maps.AutosuggestManager({map:a.map});a.bingSearchManager=new Microsoft.Maps.Search.SearchManager(a.map);tdbLocationFinder._locationSearchBing(a);
a._in_composer||""===a.defAddress||tdbLocationFinder.displayLocationByAddress(a,a.defAddress)})}},displayLocationByAddress:function(a,c){switch(a.APIService){case "google":(new google.maps.Geocoder).geocode({address:c},function(b,c){"OK"===c&&(b=b[0].geometry.location,tdbLocationFinder.updateMap(a,b.lat(),b.lng(),15))});break;case "bing":a.bingSearchManager.geocode({where:c,callback:function(b){b&&b.results&&0<b.results.length&&setTimeout(function(){tdbLocationFinder.updateMap(a,b.results[0].location.latitude,
b.results[0].location.longitude,15)},400)}})}},currentLocation:function(a){var c=a.blockObj.find(".tdb-lf-curr-loc"),b=a.blockObj.find("#tdb-lf-search-"+a.uid);c.on("click",function(){b.addClass("loading").prop("disabled",!0);tdbLocationFinder._updateError(a,"",!1);navigator.geolocation.getCurrentPosition(function(c){var d=c.coords.latitude,g=c.coords.longitude;switch(a.APIService){case "google":c=new google.maps.LatLng(d,g);(new google.maps.Geocoder).geocode({location:c},function(c,d){if("OK"===
d){d=$jscomp.makeIterator(tdbLocationFinder._retrieveAddressComponents(a,c[0].address_components));var e=d.next().value,f=d.next().value,g=d.next().value,l=d.next().value,t=d.next().value,u=d.next().value,x=d.next().value,w=c[0].geometry.location;setTimeout(function(){b.val(x);tdbLocationFinder.updateLocationInputs(a,e,f,g,l,t,u);tdbLocationFinder.updateMap(a,w.lat(),w.lng(),15);b.removeClass("loading").prop("disabled",!1)},400)}else tdbLocationFinder._updateError(a,"Unable to retrieve your current location. Please try again.",
!0),b.removeClass("loading").prop("disabled",!1)});break;case "bing":a.bingSearchManager.reverseGeocode({location:new Microsoft.Maps.Location(d,g),callback:function(c){c=$jscomp.makeIterator(tdbLocationFinder._retrieveAddressComponents(a,c.address));var e=c.next().value,f=c.next().value,m=c.next().value,n=c.next().value,p=c.next().value,t=c.next().value,u=c.next().value;setTimeout(function(){b.val(u);tdbLocationFinder.updateLocationInputs(a,e,f,m,n,p,t);tdbLocationFinder.updateMap(a,d,g,15);b.removeClass("loading").prop("disabled",
!1)},400)},error_callback:function(c){tdbLocationFinder._updateError(a,"Unable to retrieve your current location. Please try again.",!0);b.removeClass("loading").prop("disabled",!1)}})}},function(){tdbLocationFinder._updateError(a,"Unable to retrieve your current location. Please activate the location setting, then refresh the page.",!0);b.removeClass("loading").prop("disabled",!1)})})},updateMap:function(a,c,b,d){switch(a.APIService){case "google":c=new google.maps.LatLng(c,b);a.map.setCenter(c);
a.map.setZoom(d);a.mapMarker.setPosition(c);break;case "bing":a.map.setView({mapTypeId:Microsoft.Maps.MapTypeId.road,center:new Microsoft.Maps.Location(c,b),zoom:d}),a.map.entities.clear(),a.map.entities.push(new Microsoft.Maps.Pushpin({altitude:0,altitudeReference:-1,latitude:c,longitude:b}))}},updateLocationInputs:function(a,c,b,d,e,g,f){var l=jQuery("#tdb-lf-address-"+a.uid),k=jQuery("#tdb-lf-postal-code-"+a.uid),m=jQuery("#tdb-lf-city-"+a.uid),n=jQuery("#tdb-lf-state-"+a.uid);a=jQuery("#tdb-lf-country-"+
a.uid);l.val(c+(""!==b?" "+b:""));k.val(d);m.val(e);n.val(g);a.val(f)},_locationSearchGoogle:function(a){var c=document.querySelector("#tdb-lf-search-"+a.uid),b=new google.maps.places.Autocomplete(c,{types:["address"],fields:["address_components","geometry"]});b.addListener("place_changed",function(){var d=b.getPlace();c.classList.add("loading");c.disabled=!0;tdbLocationFinder._updateError(a,"",!1);if(d.geometry){var e=$jscomp.makeIterator(tdbLocationFinder._retrieveAddressComponents(a,d.address_components)),
g=e.next().value,f=e.next().value,l=e.next().value,k=e.next().value,m=e.next().value,n=e.next().value;e.next();var p=d.geometry.location;""===m&&(m=k);setTimeout(function(){tdbLocationFinder.updateLocationInputs(a,g,f,l,k,m,n);tdbLocationFinder.updateMap(a,p.lat(),p.lng(),15);c.classList.remove("loading");c.disabled=!1},400)}else setTimeout(function(){c.value="";tdbLocationFinder.updateLocationInputs(a,"","","","","","");tdbLocationFinder.updateMap(a,0,0,3);c.classList.remove("loading");c.disabled=
!1},400)})},_locationSearchBing:function(a){var c=a.blockObj.find("#tdb-lf-search-"+a.uid);c.on("click",function(){a.blockObj.find(".tdb-lf-search-results").length&&a.blockObj.find(".tdb-lf-search-results").show()});jQuery(document).on("click",function(b){a.blockObj.find(".tdb-lf-search-results *").find(b.target).length||jQuery(b.target).is("#tdb-lf-search-"+a.uid)||a.blockObj.find(".tdb-lf-search-results").hide()});c.on("keyup",tdbLocationFinder._keyupDelay(function(){var b=c.val(),d=a.blockObj.find(".tdb-lf-search-results");
""===b?d.length&&d.remove():(d.length||(d=jQuery('<div class="tdb-lf-search-results" style="display:none;top:'+c.outerHeight()+'px"></div>'),c.before(d)),3>b.length?(d.html('<div class="tdb-lf-sr-txt">Please type in 2 or more letters to perform a search.</div>'),d.show()):a.bingAutosuggestManager.getSuggestions(b,function(b){d.show();if(b.length){d.html('<div class="tdb-lf-sr-txt">Please be more specific in your search.</div>');var e=!1;b.forEach(function(b){if("PostalAddress"===b.entityType||"Address"===
b.entitySubType&&"Road"===b.entitySubType){e||(e=!0,d.html(""));var f=$jscomp.makeIterator(tdbLocationFinder._retrieveAddressComponents(a,b.address)),g=f.next().value,m=f.next().value,n=f.next().value,p=f.next().value,t=f.next().value,u=f.next().value,x=f.next().value;f=jQuery('<div class="tdb-lf-search-result">'+x+"</div>");f.on("click",function(){c.addClass("loading");c.prop("disabled",!0);tdbLocationFinder._updateError(a,"",!1);c.val(x);d.hide();a.bingSearchManager.geocode({where:b.formattedSuggestion,
callback:function(b){b&&b.results&&0<b.results.length&&setTimeout(function(){tdbLocationFinder.updateLocationInputs(a,g,m,n,p,t,u);tdbLocationFinder.updateMap(a,b.results[0].location.latitude,b.results[0].location.longitude,15);c.removeClass("loading").prop("disabled",!1)},400)}})});d.append(f)}})}else d.html('<div class="tdb-lf-sr-txt">No results were found for the selected address.</div>')}))},300))},_retrieveAddressComponents:function(a,c){var b="",d="",e="",g="",f="",l="",k="";switch(a.APIService){case "google":for(a=
0;a<c.length;a++)for(k=0;k<c[a].types.length;k++){"route"===c[a].types[k]&&(b=c[a].long_name);"street_number"===c[a].types[k]&&(d=c[a].long_name);"postal_code"===c[a].types[k]&&(e=c[a].long_name);if(""===g&&"locality"===c[a].types[k]||""===g&&"postal_town"===c[a].types[k])g=c[a].long_name;"administrative_area_level_1"===c[a].types[k]&&(f=c[a].long_name);"country"===c[a].types[k]&&(l=c[a].long_name)}""===f&&""!==g&&(f=g);k=b;k+=""!==d?(""!==k?" ":"")+d:"";k+=""!==g?(""!==k?", ":"")+g:"";k+=""!==f?
(""!==k?", ":"")+f:"";k+=""!==l?(""!==k?", ":"")+l:"";break;case "bing":"undefined"!==typeof c.addressLine&&(b+=k=c.addressLine.replace(",","")),"undefined"!==typeof c.postalCode&&(e=c.postalCode),"undefined"!==typeof c.locality&&(g=c.locality,k+=(""!==k?", ":"")+g),"undefined"!==typeof c.adminDistrict&&(f=c.adminDistrict),""===f&&""!==g&&(f=g),k+=""!==f?(""!==k?", ":"")+f:"","undefined"!==typeof c.countryRegion&&(l=c.countryRegion,k+=(""!==k?", ":"")+l)}return[b,d,e,g,f,l,k]},_updateError:function(a,
c,b){b=void 0===b?!0:b;a=a.errorContainer;a.find(".tdb-s-notif-descr").html(c);b?a.show():a.hide()},_keyupDelay:function(a,c){var b=0;return function(d){for(var e=[],g=0;g<arguments.length;++g)e[g-0]=arguments[g];clearTimeout(b);b=setTimeout(a.bind.apply(a,[this].concat($jscomp.arrayFromIterable(e))),c||0)}},deleteItem:function(a){for(var c=0;c<tdbLocationFinder.items.length;c++)if(tdbLocationFinder.items[c].uid===a)return tdbLocationFinder.items.splice(c,1),!0;return!1},resetItems:function(){tdbLocationFinder.items=
[]}}})();var tdbLocationDisplay={};jQuery().ready(function(){tdbLocationDisplay.init()});
(function(){tdbLocationDisplay={items:[],item:function(){this.blockObj=this.uid="";this.APIService="google";this.mapMarker=this.map=void 0;this.address="";this._is_initialized=!1},init:function(){tdbLocationDisplay.items=[];this._is_running=!1},_initialize_item:function(a){!0!==a._is_initialized&&(tdbLocationDisplay.initMap(a),a._is_initialized=!0)},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbLocationDisplay.items.push(a);tdbLocationDisplay._initialize_item(a)},
initMap:function(a){var c=document.querySelector("."+a.uid+" .tdb-sld-map"),b={lat:0,lng:0};switch(a.APIService){case "google":a.map=new google.maps.Map(c,{center:b,zoom:3});a.mapMarker=new google.maps.Marker({position:b,map:a.map});(new google.maps.Geocoder).geocode({address:a.address},function(b,c){"OK"===c&&(b=b[0].geometry.location,tdbLocationDisplay.updateMap(a,b.lat(),b.lng(),15))});break;case "bing":a.map=new Microsoft.Maps.Map(c,{center:new Microsoft.Maps.Location(b.lat,b.lng),zoom:a.defZoom,
showLocateMeButton:!1}),Microsoft.Maps.loadModule(["Microsoft.Maps.AutoSuggest","Microsoft.Maps.Search"],function(){(new Microsoft.Maps.Search.SearchManager(a.map)).geocode({where:a.address,callback:function(b){b&&b.results&&0<b.results.length&&setTimeout(function(){tdbLocationDisplay.updateMap(a,b.results[0].location.latitude,b.results[0].location.longitude,15)},400)}})})}},updateMap:function(a,c,b,d){switch(a.APIService){case "google":c=new google.maps.LatLng(c,b);a.map.setCenter(c);a.map.setZoom(d);
a.mapMarker.setPosition(c);break;case "bing":a.map.setView({mapTypeId:Microsoft.Maps.MapTypeId.road,center:new Microsoft.Maps.Location(c,b),zoom:d}),a.map.entities.clear(),a.map.entities.push(new Microsoft.Maps.Pushpin({altitude:0,altitudeReference:-1,latitude:c,longitude:b}))}},deleteItem:function(a){for(var c=0;c<tdbLocationDisplay.items.length;c++)if(tdbLocationDisplay.items[c].uid===a)return tdbLocationDisplay.items.splice(c,1),!0;return!1},resetItems:function(){tdbLocationDisplay.items=[]}}})();
var tdbFormTaxonomies={};jQuery().ready(function(){tdbFormTaxonomies.init()});
(function(){tdbFormTaxonomies={items:[],item:function(){this.enableTermCreate=this.disableSearch=this.showAllTerms=this.required=this.blockObj=this.uid="";this.orderBy="name";this.order="ASC";this.termIsHerarchical=this.termType="";this.subChildDisplay=this.childDisplay=this.parentDisplay="dropdown";this.subChildLimit=this.childLimit=this.parentLimit=-1;this.childCfEnable=!1;this.childCfFilter=[];this.subChildCfEnable=!1;this.subChildCfFilter=[];this.disabledForGuests=!1;this._nonce=this.searchByTxt=
this.addNewTxt=this.descriptionTxt=this.selectTxt=this.selectParentTxt=this.parentTxt=this.nameTxt="";this._is_initialized=this._in_composer=!1},init:function(){tdbFormTaxonomies.items=[];this._is_running=!1},_initialize_item:function(a){if(!0!==a._is_initialized){a.blockObj.on("s:open",function(){document.querySelector(".select2-search__field").focus()});if(!a.disabledForGuests){var c=function(a){a=jQuery(a.element).text();a=a.replace(/\[\[/g,'<span class="tdb-ft-term-name">');a=a.replace(/\{\{/g,
'<span class="tdb-ft-term-cf">');a=a.replace(/\(\(/g,'<span class="tdb-ft-term-cf-label">');a=a.replace(/\}\}|\]\]|\)\)/g,"</span>");return a=a.replace(/ *\([^)]*\) */g,"")};jQuery("."+a.uid+" .tdb-s-form-group select").select2({dropdownCssClass:"tdb-s-select2 tdb-s-select2-"+a.uid+" tdb-ft-select2-parent",templateResult:c,templateSelection:c,escapeMarkup:function(a){return a}})}if(!a.showAllTerms)a.blockObj.on("change","select.tdb-s-form-input",function(b){tdbFormTaxonomies.renderTermChildrenFromDropdown(a,
jQuery(b.target))});a.blockObj.on("click",".tdb-s-fc-label",function(b){b.preventDefault();b=jQuery(b.target);var c=b.closest(".tdb-s-form-group").data("display");"checkbox"===c?tdbFormTaxonomies.renderTermChildrenFromCheckbox(a,b):"radio"===c&&tdbFormTaxonomies.renderTermChildrenFromRadio(a,b)});a.blockObj.on("keyup",".tdb-ft-checkbox-search",function(){var a=jQuery(this),c=new RegExp(a.val(),"i");a.closest(".tdb-s-form-group").find(".tdb-s-fc-label").each(function(){var a=jQuery(this),b=a.closest(".tdb-s-form-check");
c.test(a.text())?b.show():b.hide()})});if(a.enableTermCreate)a.blockObj.on("click",".tdb-ft-create-term",function(b){b.preventDefault();b=jQuery(b.target).closest(".tdb-s-form-group");var c=b.data("term-hierarchy"),e="child"===c||"sub-child"===c?b.data("parent-id"):0,g=a.blockObj.find(".tdb-s-content");b='<div class="tdb-s-form"><div class="tdb-s-form-content"><div class="tdb-s-fc-inner"><div class="tdb-s-form-group tdb-s-form-group-sm tdb-s-form-group-name"><label class="tdb-s-form-label" for="tdb-ft-new-term-name">'+
(a.nameTxt+"</label>");b+='<input type="text" class="tdb-s-form-input" name="tdb-ft-new-term-name" id="tdb-ft-new-term-name"></div>';a.termIsHerarchical&&(b=b+'<div class="tdb-s-form-group tdb-s-form-group-sm tdb-s-form-group-parent"><label class="tdb-s-form-label" for="tdb-ft-new-term-parent-id">'+(a.parentTxt+"</label>"),b=b+'<div class="tdb-s-form-select-wrap tdb-s-content tdb-s-content-loading"><select class="tdb-s-form-input" name="tdb-ft-new-term-parent-id" id="tdb-ft-new-term-parent-id"><option value="0">--'+
(a.selectParentTxt+" --</option>"),b+='</select><svg class="tdb-s-form-select-icon" xmlns="http://www.w3.org/2000/svg" width="8.947" height="12.578" viewBox="0 0 8.947 12.578"><g transform="translate(7.947 1) rotate(90)"><path d="M0,7.947A1,1,0,0,1-.58,7.761,1,1,0,0,1-.815,6.366l2.06-2.893L-.815.58A1,1,0,0,1-.58-.815,1,1,0,0,1,.815-.58L3.288,2.893a1,1,0,0,1,0,1.16L.815,7.527A1,1,0,0,1,0,7.947Z" transform="translate(8.104 0)"/><path d="M2.474,7.947a1,1,0,0,1-.815-.42L-.815,4.053a1,1,0,0,1,0-1.16L1.659-.58A1,1,0,0,1,3.053-.815,1,1,0,0,1,3.288.58L1.228,3.473l2.06,2.893a1,1,0,0,1-.814,1.58Z" transform="translate(0 0)"/></g></svg></div></div>');
b=b+'<div class="tdb-s-form-group tdb-s-form-group-sm tdb-s-form-group-descr"><label class="tdb-s-form-label" for="tdb-ft-new-term-descr">'+(a.descriptionTxt+"</label>");b+='<textarea class="tdb-s-form-input" name="tdb-ft-new-term-descr" id="tdb-ft-new-term-descr"></textarea></div></div></div></div>';var f=new tdbModal.item;f.customClasses="tdb-ft-create-term-modal tdb-ft-create-term-modal-"+a.uid;f.title="Create new term";f.body=b;f.validateFormInputs=[{id:"tdb-ft-new-term-name",rules:"required"}];
tdbModal.addItem(f);tdbModal.openModal(f);if(a.termIsHerarchical){var l=f.modalObj.find("#tdb-ft-new-term-parent-id");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_ft_get_terms",_nonce:a._nonce,parentTermID:-1,termType:a.termType,depth:2,orderBy:a.orderBy,order:a.order},success:function(b){function c(a){a=jQuery(a.element).text();a=a.replace(/\[\[/g,'<span class="tdb-ft-term-name">');a=a.replace(/\{\{/g,'<span class="tdb-ft-term-cf">');a=a.replace(/\(\(/g,'<span class="tdb-ft-term-cf-label">');
a=a.replace(/\}\}|\]\]|\)\)/g,"</span>");return a=a.replace(/ *\([^)]*\) */g,"")}b=jQuery.parseJSON(b);Object.keys(b).length&&l.append(tdbFormTaxonomies.render_dropdown_options(b,0,[e.toString()]));l.select2({dropdownCssClass:"tdb-s-select2 tdb-s-select2-"+a.uid,templateResult:c,templateSelection:c,escapeMarkup:function(a){return a}});l.closest(".tdb-s-form-select-wrap").removeClass("tdb-s-content-loading")}})}f.modalObj.on("tdbModal.confirming",function(){var b=f.modalObj.find(".tdb-s-fc-inner"),
c=b.find("#tdb-ft-new-term-name"),d=b.find("#tdb-ft-new-term-parent-id"),e=b.find("#tdb-ft-new-term-descr");c=c.val();var l=d.length?d.val():0;d=e.val();b.find(".tdb-s-notif").remove();!0===tdbModal._validate_form_inputs(f)?jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_create_term",_nonce:a._nonce,termName:c,termType:a.termType,termDescr:d,parentTermID:l},success:function(c){c=jQuery.parseJSON(c);if(c.errors.length){var d='<div class="tdb-s-notif tdb-s-notif-xsm tdb-s-notif-error">';
d+='<ul class="tdb-s-notif-list">';jQuery.each(c.errors,function(a,b){d+="<li>"+b+"</li>"});d+="</ul>";d+="</div>";b.append(d);f.modalObj.trigger("tdbModal.confirmingReset")}else{f.modalObj.trigger("tdbModal.confirmed");c=0==l||a.showAllTerms?g.find('.tdb-s-form-group[data-term-hierarchy="parent"]'):g.find('.tdb-s-form-group[data-parent-id="'+l+'"]');var e=c.data("display");if(c.length){var k=[];if("dropdown"===e){var m=c.find("select option:selected");m.length&&k.push(m.val())}else"checkbox"===e?
(m=c.find(".tdb-s-form-check input:checked"),jQuery.each(m,function(a,b){k.push(jQuery(this).val())})):"radio"===e&&(m=c.find(".tdb-s-form-check input:checked"),m.length&&k.push(m.val()));tdbFormTaxonomies.refreshTerms(a,c,l,k,e)}else c=g.find('[value="'+l+'"]'),c.length&&(m=c.closest(".tdb-s-form-group"),e=m.data("term-hierarchy"),m=m.data("display"),"sub-child"!==e&&("dropdown"===m?c.is(":selected")&&(c=c.closest("select"),tdbFormTaxonomies.renderTermChildrenFromDropdown(a,c)):"checkbox"===m?c.is(":checked")&&
(c=c.closest(".tdb-s-fc-label"),tdbFormTaxonomies.renderTermChildrenFromCheckbox(a,c,!0)):"radio"===m&&c.is(":checked")&&(c=c.closest(".tdb-s-fc-label"),tdbFormTaxonomies.renderTermChildrenFromRadio(a,c,!0))))}}}):f.modalObj.trigger("tdbModal.confirmingReset")})});a._is_initialized=!0}},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbFormTaxonomies.items.push(a);tdbFormTaxonomies._initialize_item(a)},renderTermChildrenFromDropdown:function(a,c){var b=c.closest(".tdb-s-form-group").data("term-hierarchy"),
d=c.val(),e=c.find("option:selected").text().replace(/ *\([^)]*\) */g,""),g="",f="",l=c.attr("data-old-term-id");""===c.val()?tdbFormTaxonomies.removeChildTerms(a,l,b):(c.attr("data-old-term-id",d),"parent"===b?g="child":"child"===b&&(g="sub-child"),"child"===g?f=a.childDisplay:"sub-child"===g&&(f=a.subChildDisplay),tdbFormTaxonomies.removeChildTerms(a,l,b),tdbFormTaxonomies.renderTermChildren(a,d,e,b,g,f))},renderTermChildrenFromCheckbox:function(a,c,b){b=void 0===b?!1:b;var d=c.find('input[type="checkbox"]'),
e=c.closest(".tdb-s-form-group").data("term-hierarchy"),g=d.val();c=c.find(".tdb-s-fc-title").text();var f="",l="",k=a.blockObj.find(".tdb-s-form");d.prop("disabled")||("parent"===e?f="child":"child"===e?f="sub-child":"sub-child"===e&&(f="last-level"),"child"===f?l=a.childDisplay:"sub-child"===f&&(l=a.subChildDisplay),d.prop("checked")&&!b?(d.prop("checked",!1),a.showAllTerms?tdbFormTaxonomies.manageLimits(a):tdbFormTaxonomies.removeChildTerms(a,g,e)):(d.prop("checked",!0),a.showAllTerms?tdbFormTaxonomies.manageLimits(a):
"last-level"===f?(k.addClass("tdb-s-content-loading"),setTimeout(function(){tdbFormTaxonomies.manageLimits(a);k.removeClass("tdb-s-content-loading")},400)):tdbFormTaxonomies.renderTermChildren(a,g,c,e,f,l)))},renderTermChildrenFromRadio:function(a,c,b){b=void 0===b?!1:b;var d=c.find('input[type="radio"]'),e=c.closest(".tdb-s-form-group"),g=e.find(".tdb-ft-checkboxes");e=e.data("term-hierarchy");var f=d.val();c=c.find(".tdb-s-fc-title").text();var l="",k="",m=g.attr("data-old-term-id");g.attr("data-old-term-id",
f);"parent"===e?l="child":"child"===e&&(l="sub-child");"child"===l?k=a.childDisplay:"sub-child"===l&&(k=a.subChildDisplay);d.prop("checked")?b&&(tdbFormTaxonomies.removeChildTerms(a,m,e),tdbFormTaxonomies.renderTermChildren(a,f,c,e,l,k)):(g.find('input[value="'+m+'"]').prop("checked",!1),d.prop("checked",!0),tdbFormTaxonomies.removeChildTerms(a,m,e),tdbFormTaxonomies.renderTermChildren(a,f,c,e,l,k))},renderTermChildren:function(a,c,b,d,e,g){var f=a.blockObj.find(".tdb-s-content"),l=f.find(".tdb-s-fc-inner");
d=!1;var k=[];switch(e){case "child":d=a.childCfEnable;k=a.childCfFilter;break;case "sub-child":d=a.subChildCfEnable,k=a.subChildCfFilter}console.log(k);f.addClass("tdb-s-content-loading");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_ft_get_terms",_nonce:a._nonce,parentTermID:c,termType:a.termType,orderBy:a.orderBy,order:a.order,termsCfEnable:d,termsCfFilter:k},success:function(d){d=jQuery.parseJSON(d);var k="";Object.keys(d).length&&(k='<div class="tdb-s-form-group" data-term-hierarchy="'+
e+'" data-parent-id="'+c+'" data-parent-name="'+b+'" data-display="'+g+'">',k+='<label class="tdb-s-form-label">',k+='<span class="tdb-s-form-label-inner">',-1<b.indexOf("[[")&&(b=b.substring(2,b.indexOf("]]"))),k+=b.charAt(0).toUpperCase()+b.slice(1),k+="</span>",a.enableTermCreate&&(k+='<a class="tdb-s-btn tdb-s-btn-simple tdb-ft-create-term" href="#">'+a.addNewTxt+"</a>"),"checkbox"!==g||a.disableSearch||(k+='<input class="tdb-s-form-input tdb-ft-checkbox-search" type="text" placeholder="'+a.searchByTxt+
'">'),k+="</label>","dropdown"===g?(k+='<div class="tdb-s-form-select-wrap">',k+='<select class="tdb-s-form-input" name="tdb-posts-form-taxonomies-'+a.uid+'[]">',k+='<option value="">-- '+a.selectTxt+" "+(a.termName.charAt(0).toLowerCase()+a.termName.slice(1))+" --</option>",k+=tdbFormTaxonomies.render_dropdown_options(d,0,[]),k+="</select>",k+='<svg class="tdb-s-form-select-icon" xmlns="http://www.w3.org/2000/svg" width="8.947" height="12.578" viewBox="0 0 8.947 12.578"><g transform="translate(7.947 1) rotate(90)"><path d="M0,7.947A1,1,0,0,1-.58,7.761,1,1,0,0,1-.815,6.366l2.06-2.893L-.815.58A1,1,0,0,1-.58-.815,1,1,0,0,1,.815-.58L3.288,2.893a1,1,0,0,1,0,1.16L.815,7.527A1,1,0,0,1,0,7.947Z" transform="translate(8.104 0)"/><path d="M2.474,7.947a1,1,0,0,1-.815-.42L-.815,4.053a1,1,0,0,1,0-1.16L1.659-.58A1,1,0,0,1,3.053-.815,1,1,0,0,1,3.288.58L1.228,3.473l2.06,2.893a1,1,0,0,1-.814,1.58Z" transform="translate(0 0)"/></g></svg>',
k+="</div>"):"checkbox"===g?(k+='<div class="tdb-ft-checkboxes">',k+='<div class="tdb-s-form-checkboxes-wrap">',k+=tdbFormTaxonomies.render_checkboxes(a,d,0,[]),k+="</div>",k+="</div>"):"radio"===g&&(k+='<div class="tdb-ft-checkboxes">',k+='<div class="tdb-s-form-checkboxes-wrap">',k+=tdbFormTaxonomies.render_radios(a,d,0,[]),k+="</div>",k+="</div>"),k+="</div>",k=jQuery(k),"dropdown"===g&&(d=function(a){a=jQuery(a.element).text();a=a.replace(/\[\[/g,'<span class="tdb-ft-term-name">');a=a.replace(/\{\{/g,
'<span class="tdb-ft-term-cf">');a=a.replace(/\(\(/g,'<span class="tdb-ft-term-cf-label">');a=a.replace(/\}\}|\]\]|\)\)/g,"</span>");return a=a.replace(/ *\([^)]*\) */g,"")},k.find("select").select2({dropdownCssClass:"tdb-s-select2 tdb-s-select2-"+a.uid+" tdb-ft-select2-"+e,templateResult:d,templateSelection:d,escapeMarkup:function(a){return a}})));setTimeout(function(){l.append(k);tdbFormTaxonomies.manageLimits(a);f.removeClass("tdb-s-content-loading")},200)}})},refreshTerms:function(a,c,b,d,e){var g=
a.blockObj.find(".tdb-s-content");g.addClass("tdb-s-content-loading");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_ft_get_terms",_nonce:a._nonce,parentTermID:a.showAllTerms?-1:b,termType:a.termType,orderBy:a.orderBy,order:a.order},success:function(b){var f=jQuery.parseJSON(b);setTimeout(function(){Object.keys(f).length&&("dropdown"===e?(c.find("select option:not(:first-child)").remove(),c.find("select").append(tdbFormTaxonomies.render_dropdown_options(f,0,d))):"checkbox"===e?c.find(".tdb-s-form-checkboxes-wrap").html(tdbFormTaxonomies.render_checkboxes(a,
f,0,d)):"radio"===e&&c.find(".tdb-s-form-checkboxes-wrap").html(tdbFormTaxonomies.render_radios(a,f,0,d)));tdbFormTaxonomies.manageLimits(a);g.removeClass("tdb-s-content-loading")},200)}})},render_dropdown_options:function(a,c,b){var d="",e="-".repeat(c);""!==e&&(e+=" ");c++;jQuery.each(a,function(a,f){var g=-1!==jQuery.inArray(f.id.toString(),b);d+='<option value="'+f.id+'" '+(g?"selected":"")+">[["+e+a+"]]";0<Object.keys(f.acf_fields).length&&jQuery.each(f.acf_fields,function(a,b){if(""===b.value)return!0;
d+="{{(("+b.label+": ))"+b.value+"}}"});d+="</option>";0<Object.keys(f.children).length&&(d+=tdbFormTaxonomies.render_dropdown_options(f.children,c,b))});return d},render_checkboxes:function(a,c,b,d){var e="",g="-".repeat(b);""!==g&&(g+=" ");b++;jQuery.each(c,function(c,l){var f=-1!==jQuery.inArray(l.id.toString(),d);e+='<div class="tdb-s-form-check tdb-ft-term-'+l.id+'">';e+='<label class="tdb-s-fc-label">';e+='<input type="checkbox" name="tdb-posts-form-taxonomies-'+a.uid+'[]" value="'+l.id+'" '+
(f?"checked":"")+">";e+='<span class="tdb-s-fc-check"></span>';e+='<span class="tdb-s-fc-title">'+g+c+"</span>";e+="</label>";0<Object.keys(l.acf_fields).length&&(e+='<div class="tdb-ft-terms-cfs">',jQuery.each(l.acf_fields,function(a,b){if(""===b.value)return!0;e+='<div class="tdb-ft-term-cf">';e+='<span class="tdb-ft-term-cf-label">'+b.label+": </span>"+b.value;e+="</div>"}),e+="</div>");e+="</div>";0<Object.keys(l.children).length&&(e+=tdbFormTaxonomies.render_checkboxes(a,l.children,b,d))});return e},
render_radios:function(a,c,b,d,e){e=void 0===e?"":e;var g="",f="-".repeat(b);""!==f&&(f+=" ");b++;""===e&&(e=Math.floor(65536*(1+Math.random())).toString(16).substring(1));jQuery.each(c,function(c,k){var l=-1!==jQuery.inArray(k.id.toString(),d);g+='<div class="tdb-s-form-check tdb-ft-term-'+k.id+'">';g+='<label class="tdb-s-fc-label">';g+='<input type="radio" name="tdb-posts-form-taxonomies-'+a.uid+"-"+e+'[]" value="'+k.id+'" '+(l?"checked":"")+">";g+='<span class="tdb-s-fc-check"></span>';g+='<span class="tdb-s-fc-title">'+
f+c+"</span>";g+="</label>";0<Object.keys(k.acf_fields).length&&(g+='<div class="tdb-ft-terms-cfs">',jQuery.each(k.acf_fields,function(a,b){if(""===b.value)return!0;g+='<div class="tdb-ft-term-cf">';g+='<span class="tdb-ft-term-cf-label">'+b.label+": </span>"+b.value;g+="</div>"}),g+="</div>");g+="</div>";0<Object.keys(k.children).length&&(g+=tdbFormTaxonomies.render_radios(a,k.children,b,d))});return g},removeChildTerms:function(a,c,b){var d=a.blockObj.find(".tdb-s-content"),e=d.find('.tdb-s-form-group[data-parent-id="'+
c+'"]');d.addClass("tdb-s-content-loading");setTimeout(function(){if(e.length&&(e.remove(),"parent"===b)){var c=void 0,f=e.find("input:checked");f.length&&f.each(function(){c=d.find('.tdb-s-form-group[data-parent-id="'+jQuery(this).val()+'"]')});f=e.find("select");f.length&&(c=d.find('.tdb-s-form-group[data-parent-id="'+f.val()+'"]'));"undefined"!==typeof c&&c.length&&c.remove()}tdbFormTaxonomies.manageLimits(a);d.removeClass("tdb-s-content-loading")},400)},manageLimits:function(a){var c=a.blockObj.find(".tdb-ft-limit-warning"),
b=c.find(".tdb-ft-limit-parent-notif"),d=c.find(".tdb-ft-limit-child-notif"),e=c.find(".tdb-ft-limit-sub-child-notif"),g=a.blockObj.find('.tdb-s-form-group[data-term-hierarchy="parent"]'),f=a.blockObj.find('.tdb-s-form-group[data-term-hierarchy="child"]'),l=a.blockObj.find('.tdb-s-form-group[data-term-hierarchy="sub-child"]'),k=g.find("input:checked").length,m=f.find("input:checked").length,n=l.find("input:checked").length;k=-1<a.parentLimit&&k>=a.parentLimit;m=-1<a.childLimit&&m>=a.childLimit;a=
-1<a.subChildLimit&&n>=a.subChildLimit;k&&b.length||m&&d.length||a&&e.length?c.show():c.hide();k?(g.find('input[type="checkbox"]:not(:checked)').prop("disabled",!0),b.show()):(g.find('input[type="checkbox"]:not(:checked)').prop("disabled",!1),b.hide());m?(f.find('input[type="checkbox"]:not(:checked)').prop("disabled",!0),d.show()):(f.find('input[type="checkbox"]:not(:checked)').prop("disabled",!1),d.hide());a?(l.find('input[type="checkbox"]:not(:checked)').prop("disabled",!0),e.show()):(l.find('input[type="checkbox"]:not(:checked)').prop("disabled",
!1),e.hide())},deleteItem:function(a){for(var c=0;c<tdbFormTaxonomies.items.length;c++)if(tdbFormTaxonomies.items[c].uid===a)return tdbFormTaxonomies.items.splice(c,1),!0;return!1},resetItems:function(){tdbFormTaxonomies.items=[]}}})();var tdbFormFileUpload={};jQuery().ready(function(){tdbFormFileUpload.init()});
(function(){tdbFormFileUpload={items:[],item:function(){this.blockObj=this.uid="";this.fileType="image";this.fileExtensions=["jpg","jpeg","png","gif","ico"];this.maxUploadSize=0;this._is_initialized=this._in_composer=!1},init:function(){tdbFormFileUpload.items=[];this._is_running=!1},_initialize_item:function(a){if(!0!==a._is_initialized){var c=a.blockObj.find(".tdb-s-form-file");c.bind("dragover",function(){jQuery(this).addClass("tdb-s-form-file-dragover")});c.bind("dragleave drop",function(){jQuery(this).removeClass("tdb-s-form-file-dragover")});
a.blockObj.find(".tdb-s-form-file input").on("change",function(b){var c=jQuery(this);b=b.currentTarget.files[0];tdbFormFileUpload.manageNotif(a,!1);-1===jQuery.inArray(c.val().split(".").pop().toLowerCase(),a.fileExtensions)?(tdbFormFileUpload.manageNotif(a,!0,"Sorry, you are not allowed to upload this "+a.fileType+" file type."),c.val("")):b.size>a.maxUploadSize?(tdbFormFileUpload.manageNotif(a,!0,"Sorry, the "+a.fileType+" exceeds the maximum upload file size limit."),c.val("")):tdbFormFileUpload.addPreview(a,
b)});a.blockObj.on("click",".tdb-s-ffp-remove",function(b){b.preventDefault();tdbFormFileUpload.removePreview(a)});a._is_initialized=!0}},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbFormFileUpload.items.push(a);tdbFormFileUpload._initialize_item(a)},manageNotif:function(a,c,b){b=void 0===b?"":b;a=a.blockObj.find(".tdb-s-notif");c?a.show().text(b):a.hide().text(b)},addPreview:function(a,c){a.blockObj.find(".tdb-s-form");var b=a.blockObj.find(".tdb-s-form-file");
b.addClass("tdb-s-content-loading");setTimeout(function(){switch(a.fileType){case "image":var d=new FileReader;d.onload=function(){b.prepend('<div class="tdb-s-form-file-preview tdb-s-form-file-preview-image"><div class="tdb-s-ffip-img" style="background-image:url('+d.result+')"></div><button class="tdb-s-btn tdb-s-btn-sm tdb-s-btn-red tdb-s-ffp-remove" title="Remove image file"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></button></div>')};
d.readAsDataURL(c);break;case "document":b.prepend('<div class="tdb-s-form-file-box tdb-s-form-file-preview tdb-s-form-file-preview-document"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text tdb-s-ffu-ico"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg><div class="tdb-s-ffu-txt">'+
c.name+'</div><button class="tdb-s-btn tdb-s-btn-sm tdb-s-btn-red tdb-s-ffp-remove" title="Remove file"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></button></div>');
break;case "audio":var e=new FileReader;e.onload=function(){b.prepend('<div class="tdb-s-form-file-preview tdb-s-form-file-preview-audio"><audio controls class="tdb-s-ffu-audio"><source src="'+e.result+'" type="'+c.type+'"></audio><button class="tdb-s-btn tdb-s-btn-sm tdb-s-btn-red tdb-s-ffp-remove" title="Remove audio file"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></button></div>')};
e.readAsDataURL(c);break;case "video":var g=new FileReader;g.onload=function(){b.prepend('<div class="tdb-s-form-file-preview tdb-s-form-file-preview-video"><video class="tdb-s-ffip-video" controls><source src="'+g.result+'" type="'+c.type+'"></video><button class="tdb-s-btn tdb-s-btn-sm tdb-s-btn-red tdb-s-ffp-remove" title="Remove video file"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></button></div>')};
g.readAsDataURL(c)}b.addClass("tdb-s-form-file-previewing");b.removeClass("tdb-s-content-loading")},600)},removePreview:function(a){var c=a.blockObj.find(".tdb-s-form-file"),b=c.find(".tdb-s-form-file-input");c.addClass("tdb-s-content-loading");setTimeout(function(){a.blockObj.attr("data-no-save","false");c.find(".tdb-s-form-file-preview").remove();b.val("");c.removeClass("tdb-s-form-file-previewing");c.removeClass("tdb-s-content-loading")},400)},deleteItem:function(a){for(var c=0;c<tdbFormFileUpload.items.length;c++)if(tdbFormFileUpload.items[c].uid===
a)return tdbFormFileUpload.items.splice(c,1),!0;return!1},resetItems:function(){tdbFormFileUpload.items=[]}}})();var tdbFormGallery={};jQuery().ready(function(){tdbFormGallery.init()});
(function(){tdbFormGallery={items:[],item:function(){this.blockObj=this.uid="";this.smoothScroll=!0;this.fileExtensions=["jpg","jpeg","png","gif","ico"];this.maxUploadSize=0;this.uploadLimit=-1;this.uploadedCount=0;this._is_initialized=this._in_composer=!1},init:function(){tdbFormGallery.items=[];this._is_running=!1},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbFormGallery.items.push(a);tdbFormGallery._initialize_item(a)},deleteItem:function(a){for(var c=0;c<
tdbFormGallery.items.length;c++)if(tdbFormGallery.items[c].uid===a)return tdbFormGallery.items.splice(c,1),!0;return!1},resetItems:function(){tdbFormGallery.items=[]},manageNotif:function(a,c,b){b=void 0===b?"":b;a=a.blockObj.find(".tdb-s-notif");c?(c=a.find("ul"),a.is(":hidden")&&a.show(),c.append("<li>"+b+"</li>")):a.hide()},addToPreview:function(a,c){var b=a.blockObj.find(".tdb-s-form-file"),d=a.blockObj.find(".tdb-fg-inputs");b.addClass("tdb-s-content-loading");setTimeout(function(){var a=new FileReader;
a.onload=function(){b.before('<div class="tdb-fg-item"><div class="tdb-fg-item-inner"><img class="tdb-fgi-img" src="'+a.result+'" /><div class="tdb-fgi-del">X</div></div></div>');var e=jQuery('<input type="file" class="tdb-fg-input" />'),f=new DataTransfer;f.items.add(c);e.prop("files",f.files);d.append(e)};a.readAsDataURL(c);b.removeClass("tdb-s-content-loading")},600)},_initialize_item:function(a){if(!0!==a._is_initialized){var c=a.blockObj.find(".tdb-s-form-file");c.bind("dragover",function(){jQuery(this).addClass("tdb-s-form-file-dragover")});
c.bind("dragleave drop",function(){jQuery(this).removeClass("tdb-s-form-file-dragover")});var b=a.blockObj.find(".tdb-s-form-file input");b.on("change",function(c){var d=c.currentTarget.files;tdbFormGallery.manageNotif(a,!1);var g=-1!==a.uploadLimit&&a.uploadedCount>=a.uploadLimit;Object.keys(d).forEach(function(c){g?-1!==a.uploadLimit&&a.uploadedCount>=a.uploadLimit&&tdbFormGallery.manageNotif(a,!0,"You have exceeded the maximum number of images that you can upload ("+a.uploadLimit+")."):(c=d[c],
-1===jQuery.inArray(c.name.split(".").pop().toLowerCase(),a.fileExtensions)?tdbFormGallery.manageNotif(a,!0,"<strong>"+c.name+"</strong>: You are not allowed to upload this file type."):c.size>a.maxUploadSize?tdbFormGallery.manageNotif(a,!0,"<strong>"+c.name+"</strong>: The image exceeds the maximum upload file size limit."):(tdbFormGallery.addToPreview(a,c),a.uploadedCount++,-1!==a.uploadLimit&&a.uploadedCount>=a.uploadLimit&&(b.closest(".tdb-s-form-file").addClass("tdb-s-form-file-disabled"),g=
!0)))})});a.blockObj.on("click",".tdb-fgi-del",function(b){b.preventDefault();jQuery(this).closest(".tdb-fg-item").remove();a.uploadedCount--; -1!==a.uploadLimit&&a.uploadedCount<a.uploadLimit&&(b=a.blockObj.find(".tdb-s-form-file"),b.hasClass("tdb-s-form-file-disabled")&&b.removeClass("tdb-s-form-file-disabled"))});a._is_initialized=!0}}}})();var tdbPostsList={};jQuery().ready(function(){tdbPostsList.init()});
(function(){tdbPostsList={items:[],item:function(){this.blockObj=this.uid="";this.renderOptions={};this.activeFilters={};this.confirmModals=[];this.topNotifications=[];this._is_initialized=!1},init:function(){tdbPostsList.items=[];this._is_running=!1},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbPostsList.items.push(a);tdbPostsList._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbPostsList.items.length;c++)if(tdbPostsList.items[c].uid===a)return tdbPostsList.items.splice(c,
1),!0;return!1},resetItems:function(){tdbPostsList.items=[]},renderPosts:function(a){var c=a.blockObj.find(".tdb-block-inner");jQuery.when(jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_get_posts_list_posts",_ajax_nonce:a.blockObj.find("#tdb_posts_list_nonce").val(),options:a.renderOptions,activeFilters:a.activeFilters},success:function(a){a=jQuery.parseJSON(a);""!==a.html&&c.html(a.html)}})).done(function(){a.blockObj.trigger("postsList.rendered")})},onSearch:function(a,c,b){a.blockObj.trigger("postsList.rendering");
a.activeFilters.search={keyword:c,in:b};tdbPostsList.renderPosts(a)},onSortByColumn:function(a,c){a.blockObj.trigger("postsList.rendering");"undefined"!==typeof a.activeFilters.columnSort&&a.activeFilters.columnSort.name===c?a.activeFilters.columnSort.order="ASC"===a.activeFilters.columnSort.order?"DESC":"ASC":a.activeFilters.columnSort={name:c,order:"ASC"};tdbPostsList.renderPosts(a)},onPagination:function(a,c){a.blockObj.trigger("postsList.rendering");a.renderOptions.currentPage=c;tdbPostsList.renderPosts(a)},
onChangePostStatus:function(a,c,b,d){var e=new tdbModal.item;e.customClasses="tdb-plist-confirm-modal tdb-plist-confirm-modal-"+a.uid;e.title=tdbPostsList._stringFromBinary(a.confirmModals.publish.title);e.body='<div class="tdb-s-modal-txt">'+tdbPostsList._stringFromBinary(a.confirmModals.publish.body).replace("%POST_TITLE%",b)+"</div>";e.cancelBtnTxt=window.tdb_modal_cancel_alt;e.confirmBtnTxt=window.tdb_modal_confirm_alt;tdbModal.addItem(e);tdbModal.openModal(e);e.modalObj.on("tdbModal.confirming",
function(){e.modalObj.trigger("tdbModal.confirmed")});e.modalObj.on("tdbModal.confirmed",function(){a.blockObj.trigger("postsList.rendering");jQuery.ajax({method:"POST",url:td_ajax_url,data:{action:"tdb_posts_list_update_post_status",_ajax_nonce:a.blockObj.find("#tdb_posts_list_nonce").val(),postID:c,newStatus:d},success:function(b){b=jQuery.parseJSON(b);if(""!==b.success){a.topNotifications.push({message:b.success,type:"success"});var d=a.blockObj.find('.tdb-plist-post[data-post-id="'+c+'"]'),e=
d.find(".tdb-plist-publish-post");d.find(".tdb-s-table-col-title .tdb-plist-title-status").remove();e.prev().remove();e.remove()}""!==b.error&&a.topNotifications.push({message:b.error,type:"error"});a.blockObj.trigger("postsList.rendered")}})})},onDeletePost:function(a,c,b){var d=a.blockObj.find(".tdb-block-inner"),e=new tdbModal.item;e.customClasses="tdb-plist-confirm-modal tdb-plist-confirm-modal-"+a.uid;e.title=tdbPostsList._stringFromBinary(a.confirmModals.delete.title);e.body='<div class="tdb-s-modal-txt">'+
tdbPostsList._stringFromBinary(a.confirmModals.delete.body).replace("%POST_TITLE%",b)+"</div>";e.cancelBtnTxt=window.tdb_modal_cancel_alt;e.confirmBtnTxt=window.tdb_modal_confirm_alt;tdbModal.addItem(e);tdbModal.openModal(e);e.modalObj.on("tdbModal.confirming",function(){e.modalObj.trigger("tdbModal.confirmed")});e.modalObj.on("tdbModal.confirmed",function(){a.blockObj.trigger("postsList.rendering");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_posts_list_delete_post",_ajax_nonce:a.blockObj.find("#tdb_posts_list_nonce").val(),
postID:c},success:function(b){b=jQuery.parseJSON(b);""!==b.success&&(a.topNotifications.push({message:b.success,type:"success"}),1===d.find(".tdb-plist-post").length&&a.renderOptions.currentPage--,tdbPostsList.renderPosts(a));""!==b.error&&(a.topNotifications.push({message:b.error,type:"error"}),a.blockObj.trigger("postsList.rendered"))}})})},topNotifications:function(a){var c=a.blockObj.find(".tdb-block-inner"),b=c.find(".tdb-plist-notifs-top");b.length||(c.prepend('<div class="tdb-plist-notifs-top"></div>'),
b=c.find(".tdb-plist-notifs-top"));jQuery.each(a.topNotifications,function(a,c){b.prepend('<div class="tdb-s-notif tdb-s-notif-sm tdb-s-notif-'+c.type+'"><div class="tdb-s-notif-descr">'+c.message+"</div></div>")});a.topNotifications=[];setTimeout(function(){b.remove()},5E3)},_initialize_item:function(a){if(!0!==a._is_initialized){var c=a.blockObj.find(".tdb-block-inner");a.blockObj.on("postsList.rendering",function(){c.hasClass("tdb-s-content-loading")||c.addClass("tdb-s-content-loading")});a.blockObj.on("postsList.rendered",
function(){tdbPostsList.topNotifications(a);c.hasClass("tdb-s-content-loading")&&c.removeClass("tdb-s-content-loading")});a.blockObj.on("keydown",".tdb-plist-search .tdb-plist-search-keyword",function(a){13===a.keyCode&&jQuery(this).closest(".tdb-plist-search").find("button").click()});a.blockObj.on("click",".tdb-plist-search button",function(b){b.preventDefault();var c=jQuery(this).closest(".tdb-plist-search");b=c.find(".tdb-plist-search-keyword").val();c=c.find(".tdb-plist-search-in").val();tdbPostsList.onSearch(a,
b,c)});a.blockObj.on("click",".tdb-s-table-header th",function(){var b=jQuery(this).data("column");tdbPostsList.onSortByColumn(a,b)});a.blockObj.on("click",".tdb-plist-publish-post",function(b){b.preventDefault();var c=jQuery(this);b=c.data("post-id");c=c.data("post-title");tdbPostsList.onChangePostStatus(a,b,c,"publish")});a.blockObj.on("click",".tdb-plist-delete-post",function(b){b.preventDefault();var c=jQuery(this);b=c.data("post-id");c=c.data("post-title");tdbPostsList.onDeletePost(a,b,c)});
a.blockObj.on("click",".tdb-s-pagination-item",function(b){b.preventDefault();b=jQuery(this).data("page");tdbPostsList.onPagination(a,b)});a._is_initialized=!0}},_stringToBinary:function(a){for(var c=new Uint16Array(a.length),b=0;b<c.length;b++)c[b]=a.charCodeAt(b);return btoa(String.fromCharCode.apply(String,$jscomp.arrayFromIterable(new Uint8Array(c.buffer))))},_stringFromBinary:function(a){a=atob(a);for(var c=new Uint8Array(a.length),b=0;b<c.length;b++)c[b]=a.charCodeAt(b);return String.fromCharCode.apply(String,
$jscomp.arrayFromIterable(new Uint16Array(c.buffer)))}}})();var tdbModal={};jQuery().ready(function(){tdbModal.init()});
(function(){tdbModal={items:[],item:function(){this.body=this.title=this.customClasses=this.modalObj=this.uid="";this.cancelBtnTxt=window.tdb_modal_cancel;this.confirmBtnTxt=window.tdb_modal_confirm;this.validateFormInputs=void 0;this._is_initialized=this._is_modal_open=!1},init:function(){tdbModal.items=[];this._is_running=!1},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbModal.items.push(a);tdbModal._initialize_item(a)},deleteItem:function(a){for(var c=0;c<
tdbModal.items.length;c++)if(tdbModal.items[c].uid===a)return a=jQuery("body"),a.hasClass("tdb-s-modal-prevent-scroll")&&a.removeClass("tdb-s-modal-prevent-scroll"),jQuery("#tdb_modal_"+tdbModal.items[c].uid).remove(),tdbModal.items.splice(c,1),!0;return!1},resetItems:function(){tdbModal.items=[]},buildModal:function(a){var c=jQuery("body"),b=Math.floor(65536*(1+Math.random())).toString(16).substring(1);c.prepend('<div id="tdb_modal_'+b+'" class="tdb-s-modal-wrap '+a.customClasses+'"><div class="tdb-s-modal-bg"></div><div class="tdb-s-modal"><div class="tdb-s-modal-header"><h3 class="tdb-s-modal-title">'+
a.title+'</h3><svg class="tdb-s-modal-close" mlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14"><g transform="translate(-5 -5)"><path d="M0,13a1,1,0,0,1-.707-.293,1,1,0,0,1,0-1.414l12-12a1,1,0,0,1,1.414,0,1,1,0,0,1,0,1.414l-12,12A1,1,0,0,1,0,13Z" transform="translate(6 6)"/><path d="M12,13a1,1,0,0,1-.707-.293l-12-12a1,1,0,0,1,0-1.414,1,1,0,0,1,1.414,0l12,12A1,1,0,0,1,12,13Z" transform="translate(6 6)"/></g></svg></div><div class="tdb-s-modal-body">'+a.body+'</div><div class="tdb-s-modal-footer"><button class="tdb-s-btn tdb-s-btn-sm tdb-s-btn-hollow tdb-s-modal-close tdb-s-modal-cancel">'+
a.cancelBtnTxt+'</button> <button class="tdb-s-btn tdb-s-btn-sm tdb-s-modal-confirm">'+a.confirmBtnTxt+"</button></div></div></div>");c=jQuery("#tdb_modal_"+b);a.uid=b;a.modalObj=c},openModal:function(a){if(!a._is_modal_open){var c=jQuery("body");setTimeout(function(){a.modalObj.addClass("tdb-s-modal-open");a._is_modal_open=!0;c.addClass("tdb-s-modal-prevent-scroll");a.modalObj.trigger("tdbModal.open")},1)}},closeModal:function(a){if(a._is_modal_open){var c=jQuery("body");a.modalObj.removeClass("tdb-s-modal-open");
a._is_modal_open=!1;c.removeClass("tdb-s-modal-prevent-scroll");a.modalObj.trigger("tdbModal.close");setTimeout(function(){tdbModal.deleteItem(a.uid)},300)}},_initialize_item:function(a){!0!==a._is_initialized&&(tdbModal.buildModal(a),a.modalObj.on("click",".tdb-s-modal-close, .tdb-s-modal-bg",function(c){c.preventDefault();a.modalObj.trigger("tdbModal.cancel");tdbModal.closeModal(a)}),a.modalObj.on("click",".tdb-s-modal-confirm",function(c){c.preventDefault();a.modalObj.trigger("tdbModal.confirming")}),
a.modalObj.on("tdbModal.confirming",function(){var c=a.modalObj.find(".tdb-s-modal-confirm"),b=a.modalObj.find(".tdb-s-modal-cancel");c.addClass("tdb-s-btn-saving");c.prop("disabled",!0);b.prop("disabled",!0)}),a.modalObj.on("tdbModal.confirmingReset",function(){var c=a.modalObj.find(".tdb-s-modal-confirm"),b=a.modalObj.find(".tdb-s-modal-cancel");c.removeClass("tdb-s-btn-saving");c.prop("disabled",!1);b.prop("disabled",!1)}),a.modalObj.on("tdbModal.confirmed",function(){tdbModal.closeModal(a)}),
a._is_initialized=!0)},_stringToBinary:function(a){for(var c=new Uint16Array(a.length),b=0;b<c.length;b++)c[b]=a.charCodeAt(b);return btoa(String.fromCharCode.apply(String,$jscomp.arrayFromIterable(new Uint8Array(c.buffer))))},_stringFromBinary:function(a){a=atob(a);for(var c=new Uint8Array(a.length),b=0;b<c.length;b++)c[b]=a.charCodeAt(b);return String.fromCharCode.apply(String,$jscomp.arrayFromIterable(new Uint16Array(c.buffer)))},_validate_form_inputs:function(a){if("undefined"!==typeof a.validateFormInputs){var c=
!0;a.modalObj.find(".tdb-s-form-group").removeClass("tdb-s-fg-error");a.modalObj.find(".tdb-s-fg-error-msg").remove();jQuery.each(a.validateFormInputs,function(b,d){var e=a.modalObj.find("#"+d.id);if(e.length){b=e.closest(".tdb-s-form-group");d=d.rules.split("|");var g="";jQuery.each(d,function(a,b){switch(b){case "required":if(""===e.val())return g="This field is required.",!1;break;case "email":if(!e.val().match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/))return g="Please enter a valid email.",
!1}});""!==g&&(b.addClass("tdb-s-fg-error"),b.append('<span class="tdb-s-fg-error-msg">'+g+"</span>"),c=!1)}});if(!c)return!1}return!0}}})();var tdbFilters={};
(function(){tdbFilters={items:[],init:function(){tdbFilters.items=[]},item:function(){this.jqueryObj=this.blockAtts=this.blockUid=void 0;this._is_initialized=this.enabled_on_mobiles=this.inComposer=!1},_initialize_item:function(a){if(!0!==a._is_initialized){if(!0===a.enabled_on_mobiles){a.jqueryObj.closest(".vc_column_container").addClass("tdb-filters-mobile");jQuery("body").addClass("tdb-filters");var c=jQuery(".tdb-filters-button-mobile"),b=c.get(0);b=jQuery._data(b,"events");if(void 0===b||void 0===
b.click)c.on("click",function(){jQuery("body").toggleClass("tdb-filters-open")})}else a.jqueryObj.closest(".vc_column_container").removeClass("tdb-filters-mobile"),jQuery("body").removeClass("tdb-filters");!0!==a.inComposer&&(window.onpopstate=function(a){null!==a.state&&window.location.reload()},a.jqueryObj.on("click",".tdb-filters-clear-all",function(a){a.preventDefault();a.stopPropagation();a=new URLSearchParams(window.location.search);var b=window.location.href;a.forEach(function(a,c){-1!==c.indexOf("tdb_")&&
(b=tdbFilters.removeQueryParam(b,c))});window.history.pushState({},"",b);window.location.reload()}),a.jqueryObj.on("click",".tdb-filter-item",function(a){var b=jQuery(this),c=b.parents("ul").data("taxonomy"),d=b.data("term-slug");b.data("term-name");b.hasClass("selected")||b.hasClass("tdb-filter-link")?(b.hasClass("selected")&&b.hasClass("tdb-filter-link")&&a.preventDefault(),window.location.href=tdbFilters.removeQueryParamValue(window.location.href,c,d)):-1!==c.indexOf("tdb_")?(a=tdbFilters.removeQueryParam(window.location.href,
"tdb-loop-page"),window.location.href=tdbFilters.updateQuery(a,c,d)):console.log("invalid filter: "+c)}),a.jqueryObj.on("select2:select",".tdb-filter-item-dropdown",function(a){var b=jQuery(this),c=b.hasClass("multiple");b=b.data("taxonomy");var d=a.params.data,l="";"undefined"!==typeof d.element?(a=jQuery(d.element).data("term-slug"),l=jQuery(d.element).data("filter-link")):a=d.slug;-1!==b.indexOf("tdb_")?(d=tdbFilters.removeQueryParam(window.location.href,"tdb-loop-page"),window.location.href=c||
""===l?"undefined"!==typeof a?tdbFilters.updateQuery(d,b,a):d:l):console.log("invalid filter: "+b)}),a.jqueryObj.on("select2:unselect",".tdb-filter-item-dropdown",function(a){var b=jQuery(this).data("taxonomy");a=a.params.data;a="undefined"!==typeof a.element?jQuery(a.element).data("term-slug"):a.slug;if(-1!==b.indexOf("tdb_")){var c=tdbFilters.removeQueryParam(window.location.href,"tdb-loop-page");window.location.href=a?tdbFilters.removeQueryParamValue(c,b,a):c}else console.log("invalid filter: "+
b)}),jQuery(document).on("tdb_filters_remove_filter",function(b,c){b=c.term;a.jqueryObj.find('[data-taxonomy="'+c.tax+'"]').find("li[data-term-slug="+b+"]").removeClass("selected")}),a._is_initialized=!0)}},addItem:function(a){if("undefined"===typeof a.blockUid)throw"item.blockUid is not defined";tdbFilters.items.push(a);tdbFilters._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbFilters.items.length;c++)if(tdbFilters.items[c].blockUid===a)return tdbFilters.items.splice(c,1),!0;return!1},
updateQuery:function(a,c,b){var d=new RegExp("([?&])"+c+"=.*?(&|$)","i"),e=-1!==a.indexOf("?")?"&":"?";return a.match(d)?(e=new URLSearchParams(window.location.search),a.replace(d,"$1"+c+"="+e.get(c)+","+b+"$2")):""===b?a:a+e+c+"="+b},removeQueryParam:function(a,c){return a.replace(new RegExp("([?&])"+c+"=.*?(&|$)","i"),"$1").replace(/[&|?]\s*$/,"")},removeQueryParamValue:function(a,c,b){var d=(new URLSearchParams(window.location.search)).get(c);d=d.replace(new RegExp("(,?)"+b,"i"),"").replace(/^,/,
"");return a=""===d?tdbFilters.removeQueryParam(a,c):a.replace(new RegExp("([?&])"+c+"=.*?(&|$)","i"),"$1"+c+"="+d+"$2")}}})();jQuery().ready(function(){tdbFilters.init()});var tdbFiltersLoop={};
(function(){tdbFiltersLoop={items:[],init:function(){tdbFiltersLoop.items=[]},item:function(){this.jqueryObj=this.blockAtts=this.blockUid=void 0;this._is_initialized=this.inComposer=!1},_initialize_item:function(a){!0!==a._is_initialized&&(a._is_initialized=!0)},addItem:function(a){if("undefined"===typeof a.blockUid)throw"item.blockUid is not defined";tdbFiltersLoop.items.push(a);tdbFiltersLoop._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbFiltersLoop.items.length;c++)if(tdbFiltersLoop.items[c].blockUid===
a)return tdbFiltersLoop.items.splice(c,1),!0;return!1}}})();jQuery().ready(function(){tdbFiltersLoop.init()});var tdbFiltersList={};
(function(){tdbFiltersList={items:[],init:function(){tdbFiltersList.items=[]},item:function(){this.jqueryObj=this.blockUid=void 0;this.sampleData=!1;this.closeIcon="";this._is_initialized=this.inComposer=!1},_initialize_item:function(a){!0!==a._is_initialized&&!0!==a.inComposer&&!0!==a.sampleData&&(a.jqueryObj.on("click",".remove",function(a){a.preventDefault();a.stopPropagation();a=jQuery(this).parent().data("tax");var b=jQuery(this).parent().data("term-slug").toString();jQuery(this).parents("li").hide();
jQuery(document).trigger("tdb_filters_remove_filter",{tax:a,term:b});var c=tdbFiltersList.removeQueryParam(window.location.href,"tdb-loop-page");window.location.href=tdbFiltersList.updateQuery(c,a,b)}),window.onpopstate=function(a){null!==a.state&&window.location.reload()},a._is_initialized=!0)},addItem:function(a){if("undefined"===typeof a.blockUid)throw"item.blockUid is not defined";tdbFiltersList.items.push(a);tdbFiltersList._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbFiltersList.items.length;c++)if(tdbFiltersList.items[c].blockUid===
a)return tdbFiltersList.items.splice(c,1),!0;return!1},updateQuery:function(a,c,b){var d=new RegExp("([?&])"+c+"=.*?(&|$)","i"),e=(new URLSearchParams(window.location.search)).get(c),g="";if(-1!==e.indexOf(",")){e=e.split(",");for(var f=0;f<e.length;f++)e[f]!==b&&(g+=e[f]+",");g=g.replace(/,\s*$/,"");return a.replace(d,"$1"+c+"="+g+"$2")}return a.replace(d,"$1").replace(/[&|?]\s*$/,"")},removeQueryParam:function(a,c){return a.replace(new RegExp("([?&])"+c+"=.*?(&|$)","i"),"$1").replace(/[&|?]\s*$/,
"")},getItemIndex:function(a){var c=0,b=0;jQuery.each(tdbFiltersList.items,function(d,e){if(e.blockUid===a)return b=c,!1;c++});return b},getItemObjById:function(a){return tdbFiltersList.items[tdbFiltersList.getItemIndex(a)]}}})();jQuery().ready(function(){tdbFiltersList.init()});var tdbFiltersDropdown={};jQuery().ready(function(){tdbFiltersDropdown.init()});
(function(){tdbFiltersDropdown={items:[],item:function(){this.type=this.dropdownObj=this.blockObj=this.dropdownUid=this.uid="";this.isMultiSelect=!1;this.filter_singular_name=this.taxonomy_name=this.taxonomy=this.prefix=this.dropdownSearchTxt=this.dropdownTxt="";this._is_initialized=this.inComposer=!1},init:function(){tdbFiltersDropdown.items=[];this._is_running=!1},_initialize_item:function(a){if(!0!==a._is_initialized){if("dropdown_search"===a.type)jQuery("."+a.dropdownUid+" .tdb-s-form-group select").select2({placeholder:"-- "+
a.dropdownSearchTxt+" "+(a.taxonomy_name.charAt(0).toLowerCase()+a.taxonomy_name.slice(1))+" --",minimumInputLength:2,ajax:{url:td_ajax_url,dataType:"json",delay:250,data:function(b){return{action:"tdb_get_search_query_tax_terms",taxonomy:a.taxonomy,search_query:b.term}},processResults:function(a){var b=[];a&&jQuery.each(a,function(a,c){b.push({id:c.term_id,text:c.name,slug:c.slug})});return{results:b}},cache:!0},dropdownCssClass:"tdb-s-select2 tdb-s-select2-"+a.dropdownUid,templateSelection:function(a){jQuery(a.element).attr("data-term-slug",
a.slug);return a.text}});else{var c=jQuery("."+a.dropdownUid+" .tdb-s-form-group select"),b={dropdownCssClass:"tdb-s-select2 tdb-s-select2-"+a.dropdownUid+" tdb-select2-multi",templateSelection:function(a){return jQuery(a.element).text().replace(/ *\([^)]*\) */g,"")}};a.isMultiSelect?(b.dropdownCssClass="tdb-s-select2 tdb-s-select2-"+a.dropdownUid+" tdb-select2-multi",b.placeholder="-- "+a.dropdownTxt+" "+a.filter_singular_name.toLowerCase()+" --"):b.dropdownCssClass="tdb-s-select2 tdb-s-select2-"+
a.dropdownUid;c.select2(b).on("select2:open",function(b){jQuery(".tdb-s-select2-"+a.dropdownUid+" .select2-search__field").focus()})}a._is_initialized=!0}},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbFiltersDropdown.items.push(a);tdbFiltersDropdown._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbFiltersDropdown.items.length;c++)if(tdbFiltersDropdown.items[c].uid===a)return tdbFiltersDropdown.items.splice(c,1),!0;return!1},resetItems:function(){tdbFiltersDropdown.items=
[]}}})();var tdbReviewsList={};jQuery().ready(function(){tdbReviewsList.init()});
(function(){tdbReviewsList={items:[],item:function(){this.blockObj=this.uid="";this.articleAuthorID=0;this.articleAuthorBadge="";this.currentUserID=0;this._nonce=this.deleteTxt=this.requiredTxt=this.replyTxt=this.cancelReplyTxt=this.cancelTxt=this.titleTag=this.emailHolder=this.nameHolder=this.replyHolder=this.submitTxt=this.currentUserEmail=this.currentUserName="";this._is_initialized=this._in_composer=!1},init:function(){tdbReviewsList.items=[];this._is_running=!1},_initialize_item:function(a){!0!==
a._is_initialized&&(a.blockObj.on("click",".tdb-surl-review-leave-reply",function(c){c.preventDefault();c=jQuery(this);var b=c.attr("data-action"),d=c.closest(".tdb-surl-review"),e=""!==a.currentUserName&&""!==a.currentUserEmail;"reply"===b?(c.text(a.cancelReplyTxt),c.attr("data-action","cancel"),d.find("> .tdb-surl-review-right").append('<div class="tdb-surl-review-reply-form tdb-s-form tdb-s-content"><div class="tdb-s-form-content"><div class="tdb-s-fc-inner"><div class="tdb-s-form-group tdb-s-form-group-sm tdb-s-form-group-content"><textarea class="tdb-s-form-input" name="content" placeholder="'+
a.replyHolder+'"></textarea></div><div class="tdb-s-form-group tdb-s-form-group-sm tdb-s-form-group-name"><input class="tdb-s-form-input" type="text" name="name" value="'+a.currentUserName+'" '+(e?"disabled":"")+' placeholder="'+a.nameHolder+'" /></div><div class="tdb-s-form-group tdb-s-form-group-sm tdb-s-form-group-email"><input class="tdb-s-form-input" type="email" name="email" value="'+a.currentUserEmail+'" '+(e?"disabled":"")+' placeholder="'+a.emailHolder+'" /></div></div></div><div class="tdb-s-form-footer"><button class="tdb-s-btn tdb-s-btn-sm tdb-surl-review-reply-submit">'+
a.submitTxt+'</button><button class="tdb-s-btn tdb-s-btn-sm tdb-s-btn-hollow tdb-surl-review-reply-cancel">'+a.cancelTxt+"</button></div></div>"),c=d.find(".tdb-surl-review-reply-form"),jQuery("html, body").animate({scrollTop:c.offset().top-c.height()},200)):"cancel"===b&&(c.text(a.replyTxt),c.attr("data-action","reply"),d.find(".tdb-surl-review-reply-form").remove())}),a.blockObj.on("click",".tdb-surl-review-reply-cancel",function(c){var b=jQuery(this);c=b.closest(".tdb-surl-review").find(".tdb-surl-review-leave-reply");
b=b.closest(".tdb-surl-review-reply-form");c.text(a.replyTxt);c.attr("data-action","reply");b.remove()}),a.blockObj.on("click",".tdb-surl-review-reply-submit",function(c){c.preventDefault();var b=jQuery(this),d=b.closest(".tdb-surl-review");c=d.data("review-id");var e=d.find(".tdb-surl-review-leave-reply"),g=b.closest(".tdb-surl-review-reply-form"),f=g.find('[name="content"]'),l=g.find('[name="name"]'),k=g.find('[name="email"]'),m=0;g.find(".tdb-s-fg-error").removeClass(".tdb-s-fg-error");""===f.val()?
(f.closest(".tdb-s-form-group").addClass("tdb-s-fg-error"),f.closest(".tdb-s-form-group").append('<span class="tdb-s-fg-error-msg">'+a.requiredTxt+"</span>"),m++):(f.closest(".tdb-s-form-group").removeClass("tdb-s-fg-error"),f.closest(".tdb-s-form-group").find(".tdb-s-fg-error-msg").remove());""!==l.val()||l.prop("disabled")?(l.closest(".tdb-s-form-group").removeClass("tdb-s-fg-error"),l.closest(".tdb-s-form-group").find(".tdb-s-fg-error-msg").remove()):(l.closest(".tdb-s-form-group").addClass("tdb-s-fg-error"),
l.closest(".tdb-s-form-group").append('<span class="tdb-s-fg-error-msg">'+a.requiredTxt+"</span>"),m++);""!==k.val()||k.prop("disabled")?(k.closest(".tdb-s-form-group").removeClass("tdb-s-fg-error"),k.closest(".tdb-s-form-group").find(".tdb-s-fg-error-msg").remove()):(k.closest(".tdb-s-form-group").addClass("tdb-s-fg-error"),k.closest(".tdb-s-form-group").append('<span class="tdb-s-fg-error-msg">'+a.requiredTxt+"</span>"),k++);0===m&&(g.addClass("tdb-s-content-disabled"),b.addClass("tdb-s-btn-saving"),
jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_review_reply_on_submit",_nonce:a._nonce,content:f.val(),name:l.val(),email:k.val(),reviewID:c,userID:a.currentUserID},success:function(c){c=jQuery.parseJSON(c);if(""!==c.reply_id){var k=d.find(".tdb-surl-review-replies"),m="",n=a.currentUserID==a.articleAuthorID,x="";n&&(x="tdb-surl-review-reply-article-author");b.addClass("tdb-s-btn-saved");m+='<div class="tdb-surl-review tdb-surl-review-reply '+x+' tdb-s-content" data-review-reply-id="'+
c.reply_id+'">';m+='<div class="tdb-surl-review-right">';m+="<"+a.titleTag+' class="tdb-surl-review-title" '+(n?'title="Article author"':"")+">";m+=l.val();n&&(m+=a.articleAuthorBadge);m+="</"+a.titleTag+">";m+='<div class="tdb-surl-review-content">'+f.val()+"</div>";0!=a.currentUserID&&(m+='<div class="tdb-surl-review-options">',m+='<a class="tdb-surl-review-reply-delete" href="#">'+a.deleteTxt+"</a>",m+="</div>");m+="</div>";m+="</div>";setTimeout(function(){k.length?k.append(m):d.find("> .tdb-surl-review-right").append('<div class="tdb-surl-review-replies">'+
m+"</div>");g.remove();e.text(a.replyTxt);e.attr("data-action","reply")},200)}}}))}),a.blockObj.on("click",".tdb-surl-review-reply-delete",function(c){c.preventDefault();var b=jQuery(this),d=b.closest(".tdb-surl-review:not(.tdb-surl-review-reply)");c=d.data("review-id");var e=b.closest(".tdb-surl-review-reply");b=e.data("review-reply-id");e.addClass("tdb-s-content-disabled");jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"tdb_review_reply_on_delete",_nonce:a._nonce,reviewID:c,reviewReplyID:b},
success:function(a){jQuery.parseJSON(a).success&&setTimeout(function(){e.remove();var a=d.find(".tdb-surl-review-replies");a.find(".tdb-surl-review-reply").length||a.remove()},200)}})}),a._is_initialized=!0)},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbReviewsList.items.push(a);tdbReviewsList._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbReviewsList.items.length;c++)if(tdbReviewsList.items[c].uid===a)return tdbReviewsList.items.splice(c,1),!0;
return!1},resetItems:function(){tdbReviewsList.items=[]}}})();var tdbCustomForms={};jQuery().ready(function(){tdbCustomForms.init()});
(function(){tdbCustomForms={items:[],item:function(){this.formType=this.blockObj=this.uid="";this.formData=new FormData;this.customPostTitleField=this.cloudTplID=this.successURL=this.currentUserID=this.formGroupClass="";this.enablePostCreate=!1;this.tpl_id=this._nonce=this.higher_msg=this.lower_msg=this.valid_email_msg=this.blank_fields_msg=this.required_field_error=this.emailSubject=this.sendEmailToEmailFromField=this.sendEmailToCustomAddr=this.sendEmailToAuthor=this.sendEmailToAdmin=this.enableEmailSubmit=
this.makeChild=this.linkToPostID=this.postStatus=this.postFormat=this.postType=this.postID="";this._is_initialized=this._in_composer=!1},init:function(){tdbCustomForms.items=[];this._is_running=!1},_initialize_item:function(a){!0!==a._is_initialized&&(a.blockObj.find(".tdb-s-btn").on("click",function(c){c.preventDefault();c=a.blockObj.find(".tdb-s-form");var b=jQuery(a.formGroupClass+".tdb-s-form-group"),d={},e=!1;a.formData=new FormData;b.removeClass("tdb-s-fg-error");b.find(".tdb-s-fg-error-msg").remove();
c.find(".tdb-s-notif").remove();b=tdbCustomForms.getFormContentElements(a);d["content-fields"]=b.elements;b.hasErrors&&(e=b.hasErrors);b=tdbCustomForms.getFormFileElements(a);d["file-delete-fields"]=b.deleteElements;b.hasErrors&&(e=b.hasErrors);b=tdbCustomForms.getFormGalleryElements(a);d.galleries=b.elements;b.hasErrors&&(e=b.hasErrors);b=tdbCustomForms.getFormACFElements(a);d["acf-fields"]=b.elements;"post"===a.formType&&""!==b.postTitle&&(d["post-title"]=b.postTitle);b.hasErrors&&(e=b.hasErrors);
if("post"===a.formType){b=tdbCustomForms.getFormTaxonomyElements(a);d.taxonomies=b.elements;b.hasErrors&&(e=b.hasErrors);b=tdbCustomForms.getFormLocationElement(a);d["location-data"]=b.element;b.hasErrors&&(e=b.hasErrors);b=tdbCustomForms.getFormTitleElement(a);"undefined"===typeof d["post-title"]&&(d["post-title"]=b.postTitle);b.hasErrors&&(e=b.hasErrors);b=tdbCustomForms.getLinkToPostElement(a);var g=b.linkToPostID;b.hasErrors&&(e=b.hasErrors);""!==g&&(a.linkToPostID=g,a.makeChild=b.makeChild)}if(e)c.prepend('<div class="tdb-s-notif tdb-s-notif-sm tdb-s-notif-error"><div class="tdb-s-notif-descr">'+
a.blank_fields_msg+"</div></div>");else if(a.formData.append("formElements",JSON.stringify(d)),a.formData.append("enctype","multipart/form-data"),a.formData.append("_nonce",a._nonce),"user"===a.formType)a.formData.append("action","tdb_user_form_on_submit"),tdbCustomForms.userFormAjaxCall(a);else if("post"===a.formType)if(a.formData.append("action","tdb_posts_form_on_submit"),a.formData.append("enablePostCreate",a.enablePostCreate),a.formData.append("postID",a.postID),a.formData.append("authorID",
a.currentUserID),a.formData.append("postType",a.postType),a.formData.append("postFormat",a.postFormat),a.formData.append("postStatus",a.postStatus),a.formData.append("cloudTplID",a.cloudTplID),a.formData.append("linkToPostID",a.linkToPostID),a.formData.append("makeChild",a.makeChild),a.formData.append("cfInputEmailList",a.cfInputEmailList),a.formData.append("emailList",a.emailList),a.formData.append("enableEmailSubmit",a.enableEmailSubmit),a.formData.append("sendEmailToAdmin",a.sendEmailToAdmin),
a.formData.append("sendEmailToAuthor",a.sendEmailToAuthor),a.formData.append("sendEmailToCustomAddr",a.sendEmailToCustomAddr),a.formData.append("sendEmailToEmailFromField",a.sendEmailToEmailFromField),a.formData.append("emailSubject",a.emailSubject),a.formData.append("tpl_id",a.tpl_id),c=a.blockObj.find("#g-recaptcha"),c.length){var f=c.attr("data-sitekey"),l="";grecaptcha.ready(function(){grecaptcha.execute(f,{action:"submit"}).then(function(b){l=b;a.formData.append("captcha",l);tdbCustomForms.postFormAjaxCall(a)})})}else tdbCustomForms.postFormAjaxCall(a)}),
a._is_initialized=!0)},getFormContentElements:function(a){var c=[],b=!1;jQuery(a.formGroupClass+".tdb_form_content").each(function(){var d=jQuery(this),e=d.data("required"),g=d.data("custom-field"),f=d.data("form-type"),l=d.find(".tdb-s-form-group"),k=d.find(".tdb-s-form-label").text().replace(" *",""),m=d.find("textarea");d=d.find(".wp-editor-wrap");var n="";f===a.formType&&(n=d.hasClass("tmce-active")?tinymce.get(m.attr("id")).getContent():m.val(),c.filter(function(a){return a.name===g}).length||
(1===e&&""===n?(l.addClass("tdb-s-fg-error"),l.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),b=!0):(e=encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,function(a,b){return String.fromCharCode("0x"+b)}),k={name:g,value:btoa(e),label:k},c.push(k))))});return{elements:c,hasErrors:b}},getFormFileElements:function(a){var c=[],b=!1;jQuery(a.formGroupClass+".tdb_form_file_upload").each(function(){var d=jQuery(this),e=d.data("form-type"),g=d.data("required"),f=d.data("no-save"),
l=d.data("custom-field"),k=d.find(".tdb-s-form-group");d=d.find("input");var m=d.val();e===a.formType&&""!==l&&!1===f&&(1===g&&""===m?(k.addClass("tdb-s-fg-error"),k.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),b=!0):(a.formData.append(l,d.prop("files")[0]),""===m&&c.push(l)))});return{deleteElements:c,hasErrors:b}},getFormGalleryElements:function(a){var c=[],b=!1;jQuery(a.formGroupClass+".tdb_form_gallery").each(function(){var d=jQuery(this),e=d.data("form-type"),
g=d.data("custom-field");if(e===a.formType&&!c.filter(function(a){return a.name===g}).length){var f=d.data("required"),l=d.find(".tdb-s-form-group");e=d.find(".tdb-fg-item:not(.tdb-fg-item-add)").filter(function(){return""!=jQuery(this).attr("data-img-id")});d=d.find(".tdb-fg-input");1!==f||d.length||e.length?(d.length&&d.each(function(b){var c=jQuery(this);a.formData.append("tdb_gallery_{"+g+"}_"+b,c.prop("files")[0])}),d=[],e.length&&(d=jQuery.map(e,function(a,b){return jQuery(a).data("image-id")})),
c.push({source:g,existingImagesIDs:d})):(l.addClass("tdb-s-fg-error"),l.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),b=!0)}});return{elements:c,hasErrors:b}},getFormACFElements:function(a){var c=[],b="",d=!1;jQuery(a.formGroupClass+".tdb-posts-form-acf-input").each(function(){var e=jQuery(this),g=e.data("form-type"),f=e.data("type"),l=e.data("required"),k=e.data("name"),m=e.find(".tdb-s-form-label").text().replace(" *",""),n=void 0;if(g===a.formType&&!c.filter(function(a){return a.name===
k}).length)switch(f){case "text":case "textarea":case "url":case "select":n=e.find(".tdb-s-form-input");var p=n.val();1===l&&""===n.val()?(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),d=!0):(m={name:k,value:p,label:m,type:f},"select"===f?(jQuery.isArray(p)?(p.forEach(function(a,b){p[b]={value:a,label:n.find('option[value="'+a+'"]').text()}}),m.type=f+"_multiple"):(p={value:p,label:n.find('option[value="'+p+'"]').text()},"post"===a.formType&&
k===a.customPostTitleField&&(b=p)),m.value=p):("textarea"===f&&(m.value=encodeURI(p)),"post"===a.formType&&k===a.customPostTitleField&&(b=p)),c.push(m));break;case "date_picker":case "date_time_picker":case "time_picker":n=e.find(".tdb-s-form-input.flatpickr-input");1===l&&""===n.val()?(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),d=!0):(f={name:k,value:n.val(),label:m,type:f},c.push(f),"post"===a.formType&&k===a.customPostTitleField&&
(b=n.val()));break;case "email":g=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;n=e.find(".tdb-s-form-input");1===l&&""===n.val()?(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),d=!0):n.val().match(g)||""===n.val()?(f={name:k,value:n.val(),label:m,type:f},c.push(f),"post"===a.formType&&k===a.customPostTitleField&&(b=n.val())):(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.valid_email_msg+"</span>"),d=!0);
break;case "number":n=e.find(".tdb-s-form-input");g=n.attr("min");var t=n.attr("max");1===l&&""===n.val()?(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),d=!0):n.val()<g&&""!==n.val()?(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.lower_msg+g+".</span>"),d=!0):n.val()>t&&""!==n.val()?(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.higher_msg+t+".</span>"),d=!0):(f={name:k,value:n.val(),
label:m,type:f},c.push(f),"post"===a.formType&&k===a.customPostTitleField&&(b=n.val()));break;case "checkbox":if(1!==l||e.find("input:checked").length){var u=[];e.find("input:checked").each(function(){var a=jQuery(this);u.push({value:a.val(),label:a.siblings(".tdb-fi-check-label").text()})});c.push({name:k,value:u,label:m,type:f})}else e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),d=!0;break;case "radio":case "button_group":1!==l||e.find("input:checked").length?
(e=e.find("input:checked"),l={value:e.val(),label:e.siblings(".tdb-fi-check-label").text()},c.push({name:k,value:l,label:m,type:f}),"post"===a.formType&&k===a.customPostTitleField&&(b=e.siblings(".tdb-fi-check-label").text())):(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),d=!0)}});return{elements:c,postTitle:b,hasErrors:d}},getFormTaxonomyElements:function(a){var c=[],b=!1;jQuery(a.formGroupClass+".tdb_form_taxonomies").each(function(){var d=
jQuery(this),e=d.data("tax-type"),g=d.data("required"),f=d.find('[data-term-hierarchy="parent"]'),l=f.data("display");d=d.find('[data-term-hierarchy="child"], [data-term-hierarchy="sub-child"]');var k=[];c.filter(function(a){return a.taxType===e}).length||("dropdown"===l?(l=f.find("select"),1===g&&""===l.val()?(f.addClass("tdb-s-fg-error"),f.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),b=!0):""!==l.val()&&k.push(parseInt(l.val()))):(l=f.find("input:checked"),1!==g||
l.length?l.each(function(){k.push(parseInt(jQuery(this).val()))}):(f.addClass("tdb-s-fg-error"),f.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),b=!0)),d.each(function(){var a=jQuery(this);"dropdown"===a.data("display")?(a=a.find("select"),""!==a.val()&&k.push(parseInt(a.val()))):a.find("input:checked").each(function(){k.push(parseInt(jQuery(this).val()))})}),k.length&&c.push({terms:k,taxType:e}))});return{elements:c,hasErrors:b}},getFormLocationElement:function(a){var c=
jQuery(a.formGroupClass+".tdb_location_finder").first(),b={},d=!1;if(c.length){var e=c.data("tax-type"),g=c.data("location-meta"),f=c.data("required"),l=c.find(".tdb-s-form-group-lf-search input"),k=l.closest(".tdb-s-form-group"),m=c.find(".tdb-s-form-group-lf-address input"),n=c.find(".tdb-s-form-group-lf-postal-code input"),p=c.find(".tdb-s-form-group-lf-city input"),t=c.find(".tdb-s-form-group-lf-state input");c=c.find(".tdb-s-form-group-lf-country input");1===f&&""===l.val()?(k.addClass("tdb-s-fg-error"),
k.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),d=!0):""!==p.val()&&""!==t.val()&&""!==c.val()&&(b={address:m.val(),postalCode:n.val(),city:p.val(),state:t.val(),country:c.val(),taxType:e,locationMeta:g})}return{element:b,hasErrors:d}},getFormTitleElement:function(a){var c=jQuery(a.formGroupClass+".tdb_form_title input").first(),b="",d=!1;if(c.length){c=c.first();var e=c.closest(".tdb-s-form-group");""===c.val()?(e.addClass("tdb-s-fg-error"),e.append('<span class="tdb-s-fg-error-msg">'+
a.required_field_error+"</span>"),d=!0):b=c.val()}return{postTitle:b,hasErrors:d}},getLinkToPostElement:function(a){var c=jQuery(a.formGroupClass+".tdb_form_link_post").first(),b="",d=!1,e=!1;if(c.length){var g=c.find("select"),f=c.find(".tdb-s-form-group");1===c.data("required")&&""===g.val()?(f.addClass("tdb-s-fg-error"),f.append('<span class="tdb-s-fg-error-msg">'+a.required_field_error+"</span>"),e=!0):(b=g.val(),d=c.data("make-child"))}return{linkToPostID:b,makeChild:d,hasErrors:e}},userFormAjaxCall:function(a){var c=
a.blockObj.find(".tdb-s-form"),b=jQuery(a.formGroupClass+".tdb-s-form-group"),d=a.blockObj.find(".tdb-s-btn");b.addClass("tdb-s-content-disabled");c.addClass("tdb-s-content-disabled");d.addClass("tdb-s-btn-saving");jQuery.ajax({method:"POST",url:td_ajax_url,data:a.formData,contentType:!1,processData:!1,success:function(e){e=jQuery.parseJSON(e);""!==e.success&&c.prepend('<div class="tdb-s-notif tdb-s-notif-sm tdb-s-notif-success"><div class="tdb-s-notif-descr">'+e.success+"</div></div>");if(e.errors.length){var g=
'<div class="tdb-s-notif tdb-s-notif-sm tdb-s-notif-error">';g+='<ul class="tdb-s-notif-list">';jQuery.each(e.errors,function(a,b){g+="<li>"+b+"</li>"});g+="</ul>";g+="</div>";c.prepend(g)}d.addClass("tdb-s-btn-saved");c.removeClass("tdb-s-content-disabled");setTimeout(function(){b.removeClass("tdb-s-content-disabled");d.removeClass("tdb-s-btn-saving").removeClass("tdb-s-btn-saved");setTimeout(function(){a.blockObj.find(".tdb-s-notif-success").remove();a.blockObj.find(".tdb-s-notif-error").remove()},
4E3)},200)}})},postFormAjaxCall:function(a){var c=a.blockObj.find(".tdb-s-form"),b=jQuery(a.formGroupClass+".tdb-s-form-group"),d=a.blockObj.find(".tdb-s-btn");b.addClass("tdb-s-content-disabled");c.addClass("tdb-s-content-disabled");d.addClass("tdb-s-btn-saving");jQuery.ajax({method:"POST",url:td_ajax_url,data:a.formData,contentType:!1,processData:!1,success:function(e){e=jQuery.parseJSON(e);if(""!==a.successURL&&""!==e.success.create_post&&""===a.postID)window.location.replace(a.successURL);else{if(""!==
e.success.create_post||""!==e.success.email){var g='<div class="tdb-s-notif tdb-s-notif-sm tdb-s-notif-success"><ul class="tdb-s-notif-list">';""!==e.success.create_post&&(g+="<li>"+e.success.create_post+"</li>");""!==e.success.email&&(g+="<li>"+e.success.email+"</li>");c.prepend(g+"</ul></div>")}if(""!==e.errors.create_post||""!==e.errors.email||""!==e.errors.permission)g='<div class="tdb-s-notif tdb-s-notif-sm tdb-s-notif-error"><ul class="tdb-s-notif-list">',""!==e.errors.create_post&&(g+="<li>"+
e.errors.create_post+"</li>"),""!==e.errors.email&&(g+="<li>"+e.errors.email+"</li>"),""!==e.errors.permission&&(g+="<li>"+e.errors.permission+"</li>"),c.prepend(g+"</ul></div>");d.addClass("tdb-s-btn-saved");c.removeClass("tdb-s-content-disabled");""!==e.success.create_post&&""===a.postID?setTimeout(function(){window.location.replace(window.location.pathname+window.location.search+window.location.hash)},1E3):setTimeout(function(){b.removeClass("tdb-s-content-disabled");d.removeClass("tdb-s-btn-saving").removeClass("tdb-s-btn-saved");
setTimeout(function(){a.blockObj.find(".tdb-s-notif-success").remove();a.blockObj.find(".tdb-s-notif-error").remove()},4E3)},200)}}})},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbCustomForms.items.push(a);tdbCustomForms._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbCustomForms.items.length;c++)if(tdbCustomForms.items[c].uid===a)return tdbCustomForms.items.splice(c,1),!0;return!1},resetItems:function(){tdbCustomForms.items=[]}}})();
var tdbTOC={};jQuery().ready(function(){tdbTOC.init()});
(function(){tdbTOC={items:[],item:function(){this.blockObj=this.uid="";this.smoothScroll=!0;this.scrollOffset=0;this.scrollDuration=500;this._is_initialized=!1},init:function(){tdbTOC.items=[];this._is_running=!1},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdbTOC.items.push(a);tdbTOC._initialize_item(a)},deleteItem:function(a){for(var c=0;c<tdbTOC.items.length;c++)if(tdbTOC.items[c].uid===a)return tdbTOC.items.splice(c,1),!0;return!1},resetItems:function(){tdbTOC.items=
[]},_initialize_item:function(a){if(!0!==a._is_initialized){var c=jQuery("html, body"),b=jQuery("body");if(a.smoothScroll)a.blockObj.on("click","a",function(d){d.preventDefault();d=jQuery(this).attr("href");var e=tdViewport.getCurrentIntervalIndex(),g=20,f=b.hasClass("admin-bar")?0!==e?32:46:0;if(/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/.test(a.scrollOffset)){var l=JSON.parse(atob(a.scrollOffset));switch(e){case 0:g="undefined"!==typeof l.phone?parseInt(l.phone):
g;break;case 1:g="undefined"!==typeof l.portrait?parseInt(l.portrait):g;break;case 2:g="undefined"!==typeof l.landscape?parseInt(l.landscape):g;break;case 3:g="undefined"!==typeof l.all?parseInt(l.all):g}}else g=parseInt(a.scrollOffset);c.animate({scrollTop:jQuery(d).offset().top-(g+f)});window.location.hash=d});a._is_initialized=!0}}}})();var tdbFavourites={};
(function(){tdbFavourites={selector:".tdb-favorite",cookieId:"tdb_favourites",cookieLifeTime:864E5,items:[],init:function(){jQuery(tdbFavourites.selector).each(function(a){a=jQuery(a);tdbFavourites.addItem({$obj:a,prodId:a.data("post-id")})});jQuery("body").on("click",tdbFavourites.selector,function(a){var c=jQuery(a.currentTarget),b=c.data("post-id"),d=td_read_site_cookie(tdbFavourites.cookieId);a=0;"undefined"!==typeof d&&null!==d&&(a=d.split(",").length-1);jQuery(tdbFavourites.selector+'[data-post-id="'+
b+'"]').toggleClass("tdb-favorite-selected");c.hasClass("tdb-favorite-selected")?("undefined"!==typeof d&&null!==d?(d=d.split(","),-1===d.indexOf(b.toString())&&(d.push(b),td_set_cookies_life([tdbFavourites.cookieId,d.join(","),tdbFavourites.cookieLifeTime]))):td_set_cookies_life([tdbFavourites.cookieId,b,tdbFavourites.cookieLifeTime]),a++):("undefined"!==typeof d&&null!==d&&(d=d.split(","),c=d.indexOf(b.toString()),-1<c&&d.splice(c,1),td_set_cookies_life([tdbFavourites.cookieId,d.join(","),tdbFavourites.cookieLifeTime])),
a--);d=jQuery(".tdb-wmf-count");d.length&&d.text(a)})},item:function(){},addItem:function(a){var c=new tdbFavourites.item,b=!0;b&&"undefined"!==typeof a.$obj?c.$obj=a.$obj:b=!1;b&&tdbFavourites.items.push(c)}}})();jQuery().ready(function(){tdbFavourites.init()});
